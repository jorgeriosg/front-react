(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},114:function(e,t,a){e.exports=a.p+"static/media/logoH.8c71aadb.svg"},169:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getLocation",function(){return D}),a.d(n,"getLocationObject",function(){return U}),a.d(n,"setOrigen",function(){return x}),a.d(n,"setIntegracion",function(){return V}),a.d(n,"setUrlParams",function(){return G}),a.d(n,"setRegion",function(){return J}),a.d(n,"closeLauncher",function(){return W}),a.d(n,"sendNotification",function(){return z}),a.d(n,"getCustomParams",function(){return Z}),a.d(n,"setCustomParams",function(){return K}),a.d(n,"updateCustomTitle",function(){return q}),a.d(n,"updateCustomSubtitle",function(){return Q}),a.d(n,"updateCustomColorHeader",function(){return X}),a.d(n,"updateCustomColorBtn",function(){return $}),a.d(n,"updateCustomLogo",function(){return ee}),a.d(n,"updateCustomAvatar",function(){return te}),a.d(n,"setColors",function(){return ae}),a.d(n,"getSaludo",function(){return ne}),a.d(n,"sendSaludo",function(){return se}),a.d(n,"getSaludoEnd",function(){return ie}),a.d(n,"updateSaludo",function(){return oe}),a.d(n,"openAssistant",function(){return le}),a.d(n,"closeAssistant",function(){return ce}),a.d(n,"toggleMinimizedAssistant",function(){return ue}),a.d(n,"defaultAssistant",function(){return de}),a.d(n,"getAyuda",function(){return me}),a.d(n,"openHelp",function(){return he}),a.d(n,"closeHelp",function(){return ve}),a.d(n,"enabledHelp",function(){return ge}),a.d(n,"disabledHelp",function(){return fe}),a.d(n,"showWarningHelp",function(){return Ee}),a.d(n,"hideWarningHelp",function(){return be}),a.d(n,"updateConversationCalendar",function(){return Ce}),a.d(n,"updateConversation",function(){return _e}),a.d(n,"setHistory",function(){return ke}),a.d(n,"setModal",function(){return Ne}),a.d(n,"updateConversationButton",function(){return je}),a.d(n,"enabledInput",function(){return Ae}),a.d(n,"disabledInput",function(){return Te}),a.d(n,"attachFile",function(){return Ie}),a.d(n,"deleteFileForm",function(){return Re}),a.d(n,"attachFileForm",function(){return Le}),a.d(n,"openEmoji",function(){return He}),a.d(n,"closeEmoji",function(){return we}),a.d(n,"openVoice",function(){return Be}),a.d(n,"closeVoice",function(){return Me}),a.d(n,"setStar",function(){return Fe}),a.d(n,"setOverStar",function(){return Pe}),a.d(n,"setCommentValoracion",function(){return De}),a.d(n,"setServicioValoracion",function(){return Ue}),a.d(n,"setPudoResolverValoracion",function(){return xe}),a.d(n,"setErrorValoracion",function(){return Ve}),a.d(n,"sendValoracion",function(){return Ge}),a.d(n,"closeValoracion",function(){return Je}),a.d(n,"sendLike",function(){return We}),a.d(n,"closeForm",function(){return ze}),a.d(n,"sendForm",function(){return Ze}),a.d(n,"responsive",function(){return Ye}),a.d(n,"enabledVoice",function(){return Ke}),a.d(n,"disabledVoice",function(){return qe}),a.d(n,"getUrlParams",function(){return Qe});var s={};a.r(s),a.d(s,"required",function(){return Rt}),a.d(s,"file",function(){return Lt}),a.d(s,"checkbox",function(){return Ht}),a.d(s,"email",function(){return wt}),a.d(s,"tel",function(){return Bt}),a.d(s,"text",function(){return Mt}),a.d(s,"num",function(){return Ft}),a.d(s,"cleanRut",function(){return Pt}),a.d(s,"rut",function(){return Dt}),a.d(s,"formatRut",function(){return Ut}),a.d(s,"select",function(){return xt});var i=a(0),r=a.n(i),o=a(25),l=a.n(o),c=a(24),u=a(62),d=a(63),m=a(15),p=(a(84),a(8));var h=Object(m.c)({generalStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({cid:null,origen:1,nodo_id:null,intent:null,auth:null,token:null,location:null,id_cliente:"1",integracion:null,region:null,url_params:null}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CID":return e.set("cid",t.data);case"SET_ORIGEN":return e.set("origen",t.data);case"SET_NODO_ID":return e.set("nodo_id",t.data);case"SET_INTENT":return e.set("intent",t.data);case"SET_AUTH":return e.set("auth",t.data);case"SET_TOKEN":return e.set("token",t.data);case"SET_LOCATION":return e.set("location",t.data);case"SET_INTEGRACION":return e.set("integracion",t.data);case"SET_URL_PARAMS":return e.set("url_params",t.data);case"SET_REGION":return e.set("region",t.data);case"DEFAULT_GENERAL":return e.withMutations(function(e){e.set("cid",null).set("origen",1).set("nodo_id",null).set("intent",null).set("auth",null).set("token",null).set("integracion",null).set("region",null)});case"SET_GENERAL":return e.withMutations(function(e){e.set("cid",t.data.cid)});default:return e}},launcherStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({isFetching:!1,error:"",notification:null,active:!0,circle:!0}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return e.set("notification",t.data);case"CLOSE_LAUNCHER":return e.withMutations(function(e){e.set("notification",null).set("active",!1).set("circle",!1)});case"OPEN_LAUNCHER":return e.set("active",!0);case"GET_LAUNCHER_START":return e.set("isFetching",!0);case"GET_LAUNCHER_END":return e.withMutations(function(e){e.set("isFetching",!1).set("error",!1).set("launcher",p.b(t.data))});case"GET_LAUNCHER_ERROR":return e.withMutations(function(e){e.set("isFetching",!1).set("error",t.error)});default:return e}},customParamsStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({isFetching:!1,error:"",customParams:{avatar:null,colorHeader:null,colorBtn:null,logo:null,subtitulo:null,titulo:null,url:null,userImg:null,estado:null,script:null,imgBackHeader:null,settings:{bubble:!1,keep_conversation:!1,geolocalization:!1,help:!1,attach:!1,emoji:!1,voice:!1,position_help:"bottom"}}}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CUSTOM_PARAMS_START":return e.set("isFetching",!0);case"GET_CUSTOM_PARAMS_END":return e.withMutations(function(a){a.set("isFetching",!1).set("error",!1).mergeIn(["customParams"],e.get("customParams").concat(p.b(t.data)))});case"GET_CUSTOM_PARAMS_ERROR":return e.withMutations(function(e){e.set("isFetching",!1).set("error",t.error)});case"SET_CUSTOM_TITULO":return e.withMutations(function(e){e.setIn(["customParams","titulo"],t.data)});case"SET_CUSTOM_SUBTITULO":return e.withMutations(function(e){e.setIn(["customParams","subtitulo"],t.data)});case"SET_CUSTOM_COLOR_BTN":return e.withMutations(function(e){e.setIn(["customParams","colorBtn"],t.data)});case"SET_CUSTOM_COLOR_HEADER":return e.withMutations(function(e){e.setIn(["customParams","colorHeader"],t.data)});case"SET_CUSTOM_LOGO":return e.withMutations(function(e){e.setIn(["customParams","logo"],t.data)});case"SET_CUSTOM_AVATAR":return e.withMutations(function(e){e.setIn(["customParams","avatar"],t.data)});case"SET_CUSTOM_PARAMS":return e.withMutations(function(e){e.set("isFetching",!1).set("error",!1).set("customParams",p.b(JSON.parse(t.data)))});default:return e}},saludoStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({isFetching:!1,error:"",saludo:{cid:null,msg:[],send:""},send:!1}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SALUDO_START":return e.set("isFetching",!0);case"GET_SALUDO_END":return e.withMutations(function(e){e.set("isFetching",!1).set("error",!1).set("saludo",p.b(t.data))});case"GET_SALUDO_ERROR":return e.withMutations(function(e){e.set("isFetching",!1).set("error",t.error)});case"SEND_SALUDO":return e.set("send",!0);case"UPDATE_SALUDO":return e.setIn(["saludo","msg"],t.data);default:return e}},assistantStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({isFetching:!1,error:"",active:!1,minimized:!1}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ASSISTANT":return e.set("active",!0);case"CLOSE_ASSISTANT":return e.set("active",!1);case"GET_ASSISTANT_START":return e.set("isFetching",!0);case"TOGGLE_MINIMIZED":return e.set("minimized",t.data);case"GET_ASSISTANT_END":return e.withMutations(function(e){e.set("isFetching",!1).set("error",!1).set("customParams",p.b(t.data))});case"GET_ASSISTANT_ERROR":return e.withMutations(function(e){e.set("isFetching",!1).set("error",t.error)});default:return e}},cidStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({cid:null}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CID":return e.set("cid",t.data);default:return e}},ayudaStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({isFetching:!1,error:"",open:!1,enabled:!0,showWarning:!1,ayuda:[{action:!1,collapse:!1,description:"",listChild:[{title:""}],title:""}]}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AYUDA_START":return e.set("isFetching",!0);case"GET_AYUDA_END":return e.withMutations(function(e){e.set("isFetching",!1).set("error",!1).set("ayuda",p.b(t.data))});case"GET_AYUDA_ERROR":return e.withMutations(function(e){e.set("isFetching",!1).set("error",t.error)});case"OPEN_HELP":return e.set("open",!0);case"CLOSE_HELP":return e.set("open",!1);case"ENABLED_HELP":return e.set("enabled",!0);case"DISABLED_HELP":return e.set("enabled",!1);case"SHOW_WARNING_HELP":return e.set("showWarning",!0);case"SHOW_WARNING_HELP_END":return e.set("showWarning",!1);default:return e}},conversationsStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({isFetching:!1,error:"",conversations:[],loading:!1}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CONVERSATIONS_START":return e.set("isFetching",!0);case"GET_CONVERSATIONS_END":return e.withMutations(function(e){e.set("isFetching",!1).set("error",!1)});case"GET_CONVERSATIONS_ERROR":return e.withMutations(function(e){e.set("isFetching",!1).set("error",t.error)});case"SET_HISTORY":return e.set("conversations",p.b(t.data));case"SET_MODAL":return e.set("modal",t.data);case"UPDATE_CONVERSATION_CALENDAR":return e.setIn(["conversations",(e.get("conversations").size-1).toString(),"datepicker"],p.b(t.data.datepicker));case"PUSH_CONVERSATION":return e.withMutations(function(e){var a=p.b(t.data);"to"===t.data.send?e.set("loading",!0):e.set("loading",!1),e.update("conversations",function(e){return e.push(a)})});case"PUSH_CONVERSATIONS_ERROR":var a=e.getIn(["conversations",-1,"general"]).toJS();return t.data.general=a,e.withMutations(function(e){e.set("loading",!1).update("conversations",function(e){return e.push(p.b(t.data))})});case"DELETE_HISTORY":var n=e.get("conversations").get(0);return e.withMutations(function(e){e.set("conversations",p.b([n]))});case"UPDATE_SALUDO_CONVERSATION":return e.withMutations(function(e){e.setIn(["conversations","0","msg"],p.b(t.data))});default:return e}},inputStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({enabled:!0,isFetching:!1,error:!1,openHelp:!1,openEmoji:!1,openVoice:!1,openInput:!0,enabledHelp:!0,enabledEmoji:!0,enabledVoice:!0,enabledInput:!0}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENABLED_INPUT":return e.set("enabled",!0);case"DISABLED_INPUT":return e.set("enabled",!1);case"ATTACH_FILE_START":return e.set("isFetching",!0);case"ATTACH_FILE_END":return e.withMutations(function(e){e.set("isFetching",!1).set("error",!1)});case"ATTACH_FILE_ERROR":return e.withMutations(function(e){e.set("isFetching",!1).set("error",t.error)});case"OPEN_HELP":return e.withMutations(function(e){e.set("openHelp",!0).set("openVoice",!1).set("openEmoji",!1).set("enabledHelp",!0).set("enabledEmoji",!1).set("enabledVoice",!1).set("enabledInput",!1)});case"CLOSE_HELP":return e.withMutations(function(e){e.set("openHelp",!1).set("openVoice",!1).set("openEmoji",!1).set("enabledHelp",!0).set("enabledEmoji",!0).set("enabledVoice",!0).set("enabledInput",!0)});case"OPEN_EMOJI":return e.withMutations(function(e){e.set("openHelp",!1).set("openVoice",!1).set("openEmoji",!0).set("enabledHelp",!1).set("enabledEmoji",!0).set("enabledVoice",!1).set("enabledInput",!0)});case"CLOSE_EMOJI":return e.withMutations(function(e){e.set("openHelp",!1).set("openVoice",!1).set("openEmoji",!1).set("enabledHelp",!0).set("enabledEmoji",!0).set("enabledVoice",!0).set("enabledInput",!0)});case"OPEN_VOICE":return e.withMutations(function(e){e.set("openHelp",!1).set("openVoice",!0).set("openEmoji",!1).set("enabledHelp",!1).set("enabledEmoji",!1).set("enabledVoice",!0).set("enabledInput",!0)});case"CLOSE_VOICE":return e.withMutations(function(e){e.set("openHelp",!1).set("openVoice",!1).set("openEmoji",!1).set("enabledHelp",!0).set("enabledEmoji",!0).set("enabledVoice",!0).set("enabledInput",!0)});default:return e}},valoracionStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({isFetching:!1,enabled:!1,stars:0,comment:null,pudoResolver:null,overStar:0,servicio:null}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENABLED_VALORACION":return e.set("enabled",!0);case"DISABLED_VALORACION":return e.withMutations(function(e){e.set("isFetching",!1).set("enabled",!1).set("stars",0).set("comment",null).set("pudoResolver",!0).set("error",!1).set("pudoResolverError",!1).set("commentError",!1).set("button",!1)});case"SET_STARS_VALORACION":return e.set("stars",t.data);case"SET_OVER_STAR_VALORACION":return e.set("overStar",t.data);case"SET_PUDO_RESOLVER_VALORACION":return e.set("pudoResolver",t.data);case"SET_COMMENT_VALORACION":return e.set("comment",t.data);case"SEND_VALORACION_START":return e.set("isFetching",!0);case"SEND_VALORACION_END":return e.withMutations(function(e){e.set("isFetching",!1).set("enabled",!1).set("stars",0).set("comment",null).set("pudoResolver",!0).set("error",!1).set("pudoResolverError",!1).set("commentError",!1).set("button",!1)});case"SET_SERVICIO_VALORACION":return e.set("servicio",t.data);default:return e}},formularioStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({enabled:!1,error:!1,isFetching:!1,files:[]}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_FORM_START":return e.set("isFetching",!0);case"SEND_FORM_END":return e.set("isFetching",!1);case"ENABLED_FORM":return e.set("enabled",!0);case"DISABLED_FORM":return e.set("enabled",!1);case"SET_FILES":var a=p.b(t.data);return e.withMutations(function(e){e.update("files",function(e){return e.push(a)})});case"DELETE_FILE":return e.withMutations(function(e){e.update("files",function(e){return e.delete(t.data)})});default:return e}},responsiveStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({responsive:null,headerMore:!0}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSIVE":return e.set("responsive",t.data);case"HEADER_MORE":return e.set("headerMore",t.data);default:return e}},voiceStates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.b({enabled:!1});switch((arguments.length>1?arguments[1]:void 0).type){case"ENABLED_VOICE":return e.set("enabled",!0);case"DISABLED_VOICE":return e.set("enabled",!1);default:return e}}});var v=m.a.apply(void 0,[].concat([d.a]));var g=Object(m.d)(h,v),f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var b=a(64),S=a.n(b),C=a(3),O=a(7),_=a(5),y=a(4),k=a(6),N=a(2),j=a(18),A=a(14),T=a.n(A),I=a(32),R=a.n(I),L="https://dev-coopeuch.mycognitiva.io/mad",H=a(16),w=a.n(H),B="711fd53d4faeec31a1e779d2eab9a02b",M=a(30);function F(e){return{type:"SET_GENERAL",data:e}}function P(e){return{type:"SET_NODO_ID",data:e}}function D(){return function(e){var t=navigator.geolocation;new Promise(function(e,a){t||a(new Error("Not Supported")),t.getCurrentPosition(function(t){e(t)},function(){console.log("Permiso denegado")})}).then(function(t){var a=t.coords.latitude.toString(),n=t.coords.longitude.toString();R.a.setApiKey("AIzaSyDcsYlKbJi5SIYzYtZuaXEkTZXiXBLrym8"),R.a.enableDebug(),R.a.fromLatLng(a,n).then(function(t){var a=U(t.results);e({type:"SET_LOCATION",data:a})},function(e){console.log(e)})}).catch(function(e){console.log(e)})}}function U(e){for(var t={},a=0;a<e.length;a++)for(var n=e[a],s=n.types,i=0;i<s.length;i++){if("administrative_area_level_3"===s[i]){for(var r=n.address_components,o=0;o<r.length;o++){var l=r[o];"administrative_area_level_3"===l.types[0]?t.comuna=l.long_name:"administrative_area_level_1"===l.types[0]?t.region=l.long_name:"country"===l.types[0]&&(t.pais=l.long_name)}a=e.length;break}}return t}function x(e){return function(t){t({type:"SET_ORIGEN",data:e})}}function V(e){return function(t){t({type:"SET_INTEGRACION",data:e})}}function G(e){return function(t){t({type:"SET_URL_PARAMS",data:e})}}function J(e){return function(t){t({type:"SET_REGION",data:e})}}function W(){return function(e){e({type:"CLOSE_LAUNCHER"}),e({type:"TOGGLE_MINIMIZED",data:!1})}}function z(e){return{type:"SET_NOTIFICATION",data:e}}function Z(){return function(e){return e({type:"GET_CUSTOM_PARAMS_START"}),T()({method:"POST",headers:{"Content-Type":"application/json"},url:L+"/customize_param",data:{id_cliente:"1"}}).then(function(t){if(200===t.status){ae(t.data.color_header),console.log(t.data.color_header),$("#f2ad35"),console.log(t.data),e({type:"GET_CUSTOM_PARAMS_END",data:t.data});var a=w.a.encrypt(JSON.stringify(t.data),B).toString();localStorage.setItem("customParams",a),window.top.postMessage({customParams:t.data},"*"),!0===t.data.settings.bubble&&e(z(t.data.saludo_burbuja))}else e(Y(t.statusText))},function(t){e(Y("Error de conexi\xf3n con el servidor, intente nuevamente"))})}}function Y(e){return{type:"GET_CUSTOM_PARAMS_ERROR",error:e}}function K(e){return function(t){t({type:"SET_CUSTOM_PARAMS",data:e})}}function q(e){return function(t){t({type:"SET_CUSTOM_TITULO",data:e})}}function Q(e){return function(t){t({type:"SET_CUSTOM_SUBTITULO",data:e})}}function X(e){return ae(e),function(t){t({type:"SET_CUSTOM_COLOR_HEADER",data:e})}}function $(e){return function(t){t({type:"SET_CUSTOM_COLOR_BTN",data:e})}}function ee(e){return function(t){t({type:"SET_CUSTOM_LOGO",data:e})}}function te(e){return function(t){t({type:"SET_CUSTOM_AVATAR",data:e})}}function ae(e){document.documentElement.style.setProperty("--first",e),document.documentElement.style.setProperty("--laucher",e)}function ne(){return function(e,t){e({type:"GET_SALUDO_START"});var a={general:{cid:null,id_cliente:"1",origen:M.isMobile?5:1,rut:Qe(t,"rut"),user:Qe(t,"user"),clave:Qe(t,"clave")},msg:null};return T()({method:"POST",headers:{"Content-Type":"application/json"},url:L+"/message",data:Object(j.a)({},a,{rut:Qe(t,"rut"),user:Qe(t,"user"),clave:Qe(t,"clave")})}).then(function(t){if(200===t.status){var a={};a.msg=t.data.msg;var n=w.a.encrypt(JSON.stringify(a),B).toString();localStorage.setItem("gr",n),e(ie(a)),t.data.notification&&e(z(t.data.notification));var s=Array.from([t.data.msg]);a.msg=s,a.send="from",a.enabled=!0,console.log("item",a),e(Se(a)),e(P(a))}else e(re(t.statusText))},function(t){e(re("Error de conexi\xf3n con el servidor, intente nuevamente"))})}}function se(e){return function(t){t(Se(e))}}function ie(e){return{type:"GET_SALUDO_END",data:e}}function re(e){return{type:"GET_SALUDO_ERROR",error:e}}function oe(e){return function(t){t({type:"UPDATE_SALUDO",data:[e]}),t({type:"UPDATE_SALUDO_CONVERSATION",data:[e]})}}function le(){return function(e){e({type:"OPEN_ASSISTANT"})}}function ce(){return function(e){e({type:"DEFAULT_GENERAL"}),e({type:"CLOSE_ASSISTANT"}),e({type:"SET_NOTIFICATION",data:null}),e({type:"ENABLED_INPUT"}),e({type:"ENABLED_HELP"}),e({type:"TOGGLE_MINIMIZED",data:!1}),e({type:"OPEN_LAUNCHER"}),e({type:"DELETE_HISTORY"})}}function ue(e){return function(t){t({type:"TOGGLE_MINIMIZED",data:e}),t({type:"OPEN_LAUNCHER"})}}function de(){return function(e){e({type:"TOGGLE_MINIMIZED",data:!1})}}function me(){return function(e){return e({type:"GET_AYUDA_START"}),T()({method:"POST",headers:{"Content-Type":"application/json"},url:L+"/preguntas_ejemplo"}).then(function(t){200===t.data.estado.codigoEstado?e({type:"GET_AYUDA_END",data:t.data.respuesta}):e(pe(t.data.respuesta))},function(t){e(pe("Error de conexi\xf3n con el servidor, intente nuevamente"))})}}function pe(e){return{type:"GET_AYUDA_ERROR",error:e}}function he(){return function(e){e({type:"OPEN_HELP"})}}function ve(){return function(e){e({type:"CLOSE_HELP"})}}function ge(){return function(e){e({type:"ENABLED_HELP"})}}function fe(){return function(e){e({type:"DISABLED_HELP"})}}function Ee(){return function(e){e({type:"SHOW_WARNING_HELP"})}}function be(){return function(e){e({type:"SHOW_WARNING_HELP_END"})}}function Se(e){return{type:"PUSH_CONVERSATION",data:e}}function Ce(e){return function(t){t({type:"UPDATE_CONVERSATION_CALENDAR",data:e})}}function Oe(e){var t={};return console.log(e),t.msg=e,t.enabled=!0,t.from="from",e.error_formulario&&(t.error_formulario=e.error_formulario),{type:"PUSH_CONVERSATIONS_ERROR",data:t}}function _e(e){return function(t,a){return t(F(e.general)),t(Se(e)),T()({method:"POST",headers:{"Content-Type":"application/json "},url:L+"/message",data:Object(j.a)({},e,{rut:Qe(a,"rut"),user:Qe(a,"user"),clave:Qe(a,"clave")})}).then(function(e){console.log("message updateConversation:: ",e.data),console.log("message updateConversation MSG:: ",e.data.msg);if(200===e.status&&void 0!==e.data.msg&&null!==e.data.msg&&200===e.data.estado.codigoEstado){!0===e.snapEngage&&("",function(e,t){window.top.postMessage({notifications:[{msg:"",snapEngage:!0,context:e,widgetId:t}]},"*")}(e.contexto,e.widgetId));var a=e.data;a.send="from",a.enabled=!0,ye(t,a)}else t(Oe(e.data.msg))}).catch(function(e){t(Oe(e.response.data.msg))})}}function ye(e,t){if(console.log("messageResponse:: ",t),void 0!==t.liftUp)switch(t.liftUp){case"valoracion":void 0!==t.general&&(e(F(t.general)),void 0!==t.general.integracion&&e(V(t.general.integracion))),e({type:"ENABLED_VALORACION"}),e(Se(t));break;case"form":case"formContacto":void 0!==t.general&&(e(F(t.general)),void 0!==t.general.integracion&&e(V(t.general.integracion))),e({type:"ENABLED_FORM"}),e(Se(t))}else console.log("data.general888 ",t),void 0!==t.general&&(e(F(t.general)),void 0!==t.general.region&&e(J(t.general.region)),void 0!==t.general.integracion&&e(V(t.general.integracion))),e(Se(t))}function ke(e){return function(t){var a=e[e.length-1],n=a.liftUp;if(void 0!==n)switch(n){case"valoracion":t({type:"ENABLED_VALORACION"});break;case"form":t({type:"ENABLED_FORM"})}t(F(a.general)),t({type:"SET_HISTORY",data:e})}}function Ne(e){return function(t){t({type:"SET_MODAL",data:e})}}function je(e){switch(e.msg[0]){case"siValorar":return function(t){t(F(e.general)),t(Se(e)),setTimeout(function(){var a={general:e.general,send:"from",enabled:!0,liftUp:"valoracion",withStars:!1};ye(t,a)},500)};case"noValorar":return function(t){t({type:"DISABLED_VALORACION"}),t(F(e.general)),t(Se(e)),setTimeout(function(){var a={general:e.general,send:"from",enabled:!0,msg:["Lamentamos que no quieras.","Recuerda que si vuelves a necesitar ayuda, estoy ac\xe1 las 24 horas del d\xeda."]};ye(t,a)},500)};case"siContacto":return function(t){t(F(e.general)),t(Se(e))};default:return function(t,a){return t(F(e.general)),t(Se(e)),T()({method:"POST",headers:{"Content-Type":"application/json "},url:L+"/message",data:Object(j.a)({},e,{rut:Qe(a,"rut"),user:Qe(a,"user"),clave:Qe(a,"clave")})}).then(function(e){if(200===e.status){var a=e.data;console.log("RESPONSE MENSAJE 3::",a),a.send="from",a.enabled=!0,ye(t,a)}else t(Oe(e.statusText))},function(e){t(Oe(e.response.data.msg))})}}}function Ae(){return function(e){e({type:"ENABLED_INPUT"})}}function Te(){return function(e){e({type:"DISABLED_INPUT"})}}function Ie(e){return function(t){t({type:"GET_CONVERSATIONS_START"}),setTimeout(function(){var a;(a={files:["http://panikors.s3-website-us-east-1.amazonaws.com/wp-content/uploads/2015/01/Panteras-Negras.jpg","http://www.google.com"]}).send="from",a.enabled=!0,a.general=e.general,t(Se(a)),t({type:"GET_CONVERSATIONS_END"})},1500)}}function Re(e){return function(t){t({type:"DELETE_FILE",data:e})}}function Le(e){return function(e){e({type:"GET_CONVERSATIONS_START"}),setTimeout(function(){e({type:"SET_FILES",data:{name:"imagen",url:"http://panikors.s3-website-us-east-1.amazonaws.com/wp-content/uploads/2015/01/Panteras-Negras.jpg"}}),e({type:"GET_CONVERSATIONS_END"})},3e3)}}function He(){return function(e){e({type:"OPEN_EMOJI"})}}function we(){return function(e){e({type:"CLOSE_EMOJI"})}}function Be(){return function(e){e({type:"OPEN_VOICE"})}}function Me(){return function(e){e({type:"CLOSE_VOICE"})}}function Fe(e){return function(t){t({type:"SET_STARS_VALORACION",data:e}),t({type:"SET_BUTTON_VALORACION",data:!0})}}function Pe(e){return function(t){t({type:"SET_OVER_STAR_VALORACION",data:e})}}function De(e){return function(t){t({type:"SET_COMMENT_VALORACION",data:e})}}function Ue(e){return function(t){t({type:"SET_SERVICIO_VALORACION",data:e})}}function xe(e){return function(t){t({type:"SET_PUDO_RESOLVER_VALORACION",data:e})}}function Ve(e){return function(t){t({type:"SET_ERROR_VALORACION",data:e}),setTimeout(function(){t({type:"SET_ERROR_VALORACION",data:!1})},4e3)}}function Ge(e,t){return function(a){return T()({method:"POST",headers:{"Content-Type":"application/json"},url:L+"/valorar",data:e}).then(function(e){if(200===e.status&&200===e.data.estado.codigoEstado){console.log("sendvaloracion",e.data);var n={send:"form",enabled:!0};n.general=t,n.yaValoro=!0,n.yaCv=!1,n.yaContacto=!1,n.yaEvalucion=!1,n.yaSolicito=!1,n.yaSuma=!1,n.yaTC=!1,n.yaTransfirio=!1,n.msg=["Muchas gracias por tu evaluaci\xf3n, nos ayuda a seguir mejorando."],a(Se(n)),a({type:"GET_CONVERSATIONS_END"})}else{a(Oe(["error_formulario"])),a({type:"GET_CONVERSATIONS_END"})}},function(e){a(Oe(e.response.data.msg)),a({type:"GET_CONVERSATIONS_END"})})}}function Je(e){return function(t){t({type:"DISABLED_VALORACION"}),je(e)}}function We(e,t){return function(a){a({type:"GET_CONVERSATIONS_START"});var n=T()({method:"POST",headers:{"Content-Type":"application/json"},url:L+"/valorar",data:e});return console.log(e),n.then(function(e){if(console.log("RESPONSE:: like ",e),200===e.status&&200===e.data.estado.codigoEstado){var n={};n.msg=[e.data.respuesta],n.send="from",n.enabled=!0,n.general=t,ye(a,n)}else a(Oe(e.statusText))},function(e){a(Oe("Disculpa, se ha producido un error al valorar. Puedes continuar con la conversaci\xf3n.")),a({type:"GET_CONVERSATIONS_END"})})}}function ze(e){return function(t,a){return t({type:"DISABLED_FORM"}),t(F(e.general)),t(Se(e)),T()({method:"POST",headers:{"Content-Type":"application/json"},url:L+"/message",data:Object(j.a)({},e,{rut:Qe(a,"rut"),user:Qe(a,"user"),clave:Qe(a,"clave")})}).then(function(e){if(200===e.status&&200===e.data.estado.codigoEstado){var a=e.data;a.send="from",a.enabled=!0,t(P(a.msg[a.msg.length-1])),ye(t,a)}else t(Oe(e.statusText))},function(e){t(Oe(e.response.data.msg))})}}function Ze(e,t,a){return console.log("sendForm",e,t,a),e.general=a,function(n,s){return n({type:"SEND_FORM_START"}),n({type:"ENABLED_FORM"}),T()({method:"POST",headers:{"Content-Type":"application/json"},url:t,data:e}).then(function(e){if(200===e.status&&200===e.data.estado.codigoEstado){var t={};return"Formulario"==e.data.estado.glosaEstado?(t.send="to",t.enabled=!1,t.general=a,t.yaContacto=!0,t.yaValoro=!1,t.yaCv=!1,t.yaEvalucion=!1,t.yaSolicito=!1,t.yaSuma=!1,t.yaTC=!1,t.yaTransfirio=!1,t.msg=["No"],t.origen=["Sitio Publico"]):(t.msg=["autenticado"],t.send="to",t.enabled=!1,t.general=a,t.token=e.data.respuesta.access_token),T()({method:"POST",headers:{"Content-Type":"application/json"},url:L+"/message",data:Object(j.a)({},t,{rut:Qe(s,"rut"),user:Qe(s,"user"),clave:Qe(s,"clave")})}).then(function(e){if(console.log("response",e.data),200===e.status&&200===e.data.estado.codigoEstado){var t=e.data;t.send="form",t.enabled=!0,console.log("Conversation updated w",t),ye(n,t)}else void 0!==e.data?n(Oe(e.data.msg)):(n({type:"SEND_FORM_END"}),n(Oe(e.data.msg)))}).catch(function(t){n({type:"SEND_FORM_END"}),n(Oe(e.data.msg))})}n(Oe(e.data.msg)),n({type:"DISABLED_FORM"})},function(e){n({type:"DISABLED_FORM"}),n(Oe(void 0===e.response?e.message:e.response.data.msg))})}}function Ye(e){return function(t){t({type:"RESPONSIVE",data:e})}}function Ke(){return function(e){e({type:"ENABLED_VOICE"})}}function qe(){return function(e){e({type:"DISABLED_VOICE"})}}function Qe(e,t){var a=e().generalStates.getIn(["url_params",t]);return"null"===a?null:a}var Xe=a(10),$e=a.n(Xe),et=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e,t;if(this.props.isFetching){this.props.showChildren&&(t=this.props.children);var a=this.props.mainCss;e=r.a.createElement("div",null,t,r.a.createElement("div",{className:a.SpinnerHolder},r.a.createElement("div",{className:a.Spinner})))}else e=this.props.children;return e}}]),t}(i.Component),tt=function(e){return r.a.createElement("span",{className:e.mainCss.BubbleLauncher,style:""===e.bubbleLogo?{left:"13.5rem"}:null},"1")},at=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.saludo,a=e.mainCss,n=e.bubbleLogo;return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,{mainCss:a,bubbleLogo:n}),r.a.createElement("div",{className:a.Notification},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})))}}]),t}(i.Component),nt=(a(112),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).closeLauncher=a.closeLauncher.bind(Object(N.a)(Object(N.a)(a))),a.closeAssistant=a.closeAssistant.bind(Object(N.a)(Object(N.a)(a))),a.callAsyncData(),a.launcher=r.a.createRef(),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"callAsyncData",value:function(){this.saludar()}},{key:"saludar",value:function(){var e=this.props.customParamsStates.getIn(["customParams","settings","keep_conversation"]),t=localStorage.getItem("hc");e&&t||this.props.getSaludo()}},{key:"closeAssistant",value:function(){var e=this.props.closeAssistant;this.notificationCDN(),localStorage.removeItem("hcm"),localStorage.removeItem("hc"),e()}},{key:"openAssitantCDN",value:function(){window.top.postMessage({test:[{msg:"assistant"}]},"*")}},{key:"notificationCDN",value:function(){window.top.postMessage({test:[{msg:"notification"}]},"*")}},{key:"closeLauncher",value:function(){var e=this.props,t=e.closeLauncher,a=e.closeHelp,n=e.openAssistant,s=e.ayudaStates;t(),this.openAssitantCDN(),n(),s.get("open")&&a(),localStorage.getItem("hcm")&&localStorage.removeItem("hcm")}},{key:"notification",value:function(e,t,a,n){return n?e.get("notification")&&!localStorage.getItem("hc")?r.a.createElement(at,{saludo:e.get("notification"),mainCss:t,bubbleLogo:a}):e.get("circle")?r.a.createElement(tt,{mainCss:t,bubbleLogo:a}):null:null}},{key:"content",value:function(e,t,a,n,s){if(0!==e.get(["customParams","status"])&&a.get("conversations").size>0){if(t.get("active")){var o=e.getIn(["customParams","bubble_logo"]),l=e.getIn(["customParams","settings","bubble"]);return r.a.createElement(i.Fragment,null,r.a.createElement("div",{className:n.MainLauncher},this.notification(t,n,o,l),o.length>0?r.a.createElement("div",{className:"boxBubbleLogo"},r.a.createElement("img",{className:"imgBubbleLogo",onClick:this.closeLauncher,src:"".concat(o),alt:"Avatar Img"})):r.a.createElement("button",{ref:this.launcher,className:n.LauncherButton,onClick:this.closeLauncher},r.a.createElement("i",{className:n.IconLauncher}))))}if("desktop"===s.get("responsive"))return r.a.createElement("div",{className:n.MainLauncher},r.a.createElement("button",{ref:this.launcher,className:n.LauncherButton+" "+n.Close,onClick:this.closeAssistant},r.a.createElement("i",{className:n.IconClose})))}return null}},{key:"render",value:function(){var e=this.props,t=e.customParamsStates,a=e.launcherStates,n=e.conversationsStates,s=e.mainCss,i=e.responsiveStates,o=t.getIn(["customParams","colorHeader"]);return r.a.createElement(et,{isFetching:t.get("isFetching"),showChildren:!0,colorHeader:o,mainCss:s},this.content(t,a,n,s,i))}}]),t}(i.Component)),st=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).toggleHelper=a.toggleHelper.bind(Object(N.a)(Object(N.a)(a))),a.inHover=a.inHover.bind(Object(N.a)(Object(N.a)(a))),a.outHover=a.outHover.bind(Object(N.a)(Object(N.a)(a))),a.state={inTransitionWarning:!1,hover:!1},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"inHover",value:function(e){this.setState({hover:!0})}},{key:"outHover",value:function(e){this.setState({hover:!1})}},{key:"desactivarIndex",value:function(){for(var e=document.getElementsByClassName("assistant-title"),t=0;t<e.length;t++){var a=e[t];a.classList.remove("active"),a.nextElementSibling.classList.remove("active")}}},{key:"toggleHelper",value:function(e){var t=this,a=this.props.mainCss;if(this.props.ayudaStates.get("enabled")){if(this.desactivarIndex(),this.props.ayudaStates.get("open"))document.getElementsByClassName(a.AssistantHelper)[0].classList.remove(a.Active),setTimeout(function(){t.props.closeHelp()},300);else this.props.openHelp()}else{var n=this.props.ayudaStates.get("showWarning"),s=this.state.inTransitionWarning;n||s||(this.props.showWarningHelp(),this.setState({inTransitionWarning:!0}),setTimeout(function(){t.props.hideWarningHelp(),t.setState({inTransitionWarning:!1})},3e3))}}},{key:"render",value:function(){var e=this.props,t=e.mainCss,a=e.ayudaStates,n=a.get("enabled")?"":t.Disabled,s=a.get("open")?t.Active:"";return r.a.createElement("button",{onClick:this.toggleHelper,className:t.Btn+" "+t.BtnTransparent+" "+t.ButtonHelp+" "+n+" "+s,onMouseLeave:this.outHover,onMouseOver:this.inHover})}}]),t}(i.Component),it=(a(114),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).showMore=a.showMore.bind(Object(N.a)(Object(N.a)(a))),a.div=r.a.createRef(),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"showMore",value:function(){this.props.toggleHeaderMore(!1)}},{key:"fillHelp",value:function(e,t,a){if(e&&"top"===a&&!t)return r.a.createElement(st,{ayudaStates:this.props.ayudaStates,openHelp:this.props.openHelp,closeHelp:this.props.closeHelp,showWarningHelp:this.props.showWarningHelp,hideWarningHelp:this.props.hideWarningHelp,colorHeader:this.props.colorHeader,mainCss:this.props.mainCss})}},{key:"fillCloseButton",value:function(e,t){if("mobile"===t)return r.a.createElement("button",{onClick:this.props.closeAssistant,className:e.CloseButton+" "+e.Btn+" "+e.BtnTransparent})}},{key:"loseButton",value:function(e,t){if("mobile"===t)return r.a.createElement("button",{onClick:this.props.closeAssistant,className:e.CloseButton+" "+e.Btn+" "+e.BtnTransparent})}},{key:"content",value:function(e,t,a){var n=this.props.minimized?e.AssistantMinimized:"";return r.a.createElement("div",{ref:this.div,className:"top"===a?e.Header+" "+e.HeaderHelpUp:e.HeaderHelpDown+" "+n},r.a.createElement("img",{className:e.HeaderImage,src:this.props.logo,alt:"Logo"}),r.a.createElement("div",{className:e.HeaderText},r.a.createElement("h3",null,this.props.titulo),r.a.createElement("p",null,this.props.subtitulo)),this.fillHelp(this.props.ayuda,this.props.minimized,a),r.a.createElement("button",{className:e.Btn+" "+e.BtnTransparent,onClick:this.props.minimizedAssistant},r.a.createElement("i",{className:e.IconMinimized,onClick:this.props.minimizedAssistant}),r.a.createElement("i",{className:e.CloseButton,onClick:this.props.minimizedAssistant})),this.fillCloseButton(e,t))}},{key:"render",value:function(){var e=this.props,t=e.mainCss,a=e.responsive,n=e.positionHelp;return this.content(t,a,n)}}]),t}(i.Component)),rt=function(e){return e.active?r.a.createElement("div",{className:e.mainCss.Loader},r.a.createElement("span",{className:e.mainCss.Dot}),r.a.createElement("span",{className:e.mainCss.Dot}),r.a.createElement("span",{className:e.mainCss.Dot})):null},ot=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).attach=r.a.createRef(),a.attachFile=a.attachFile.bind(Object(N.a)(Object(N.a)(a))),a.attachIconClick=a.attachIconClick.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"attachIconClick",value:function(){this.attach.current.click()}},{key:"attachFile",value:function(){var e=this.attach.current.files[0].size,t=this.props,a=t.attachFile,n=t.generalStates;if(e>0){var s=this.attach.current.files[0],i={};i.file=s,i.general=n.toJS(),a(i)}}},{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-rounded input-user-btn",type:"button",onClick:this.attachIconClick},r.a.createElement("i",{className:"fas fa-paperclip"}),r.a.createElement("input",{type:"file",ref:this.attach,className:"hide",onChange:this.attachFile}))}}]),t}(i.Component),lt=(a(115),a(68)),ct=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).toggleEmoji=a.toggleEmoji.bind(Object(N.a)(Object(N.a)(a))),a.selectEmoji=a.selectEmoji.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"toggleEmoji",value:function(){var e=this.props,t=e.openEmoji,a=e.closeEmoji,n=e.inputStates;this.props.moreHeader&&this.props.toggleHeaderMore(!1),n.get("openEmoji")?a():t()}},{key:"selectEmoji",value:function(e){var t=this.props,a=t.start,n=t.end,s=t.mainCss,i=t.inputStates,r=t.openEmoji,o=t.closeEmoji,l=e.native,c=document.getElementsByClassName(s.InputUserBtn)[0],u=document.getElementsByClassName(s.Icon)[0],d=c.value,m=d.substring(0,a),p=d.substring(a,d.length);if(a===n)c.value=m+l+p,u.value=m+l+p;else{var h=d.substring(n,d.length);c.value=m+l+h,u.value=m+l+p}i.get("openEmoji")?r():o(),setTimeout(function(){null!==c&&(c.click(),c.focus())},300)}},{key:"render",value:function(){var e=this.props,t=e.mainCss,a=e.responsiveStates,n=e.inputStates,s=n.get("enabledEmoji");if(n.get("openEmoji")){var i={position:"absolute",bottom:"mobile"===a.get("responsive")?"5.6rem":"13.6rem",left:"0px",width:"90%",marginLeft:"5%",animationName:t.inAssistant,animationDuration:"0.3s",animationTimingFunction:"linear"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{onSelect:this.selectEmoji,style:i,showPreview:!1,showSkinTones:!1,i18n:{search:"Buscar",notfound:"Emoji no encontrado",skintext:"Escoge tu skin por default",categories:{search:"Resultados",recent:"Frecuentes",people:"Sonrisas y personas",nature:"Animales y natural",foods:"Comida y trago",activity:"Actividad",places:"Viajes y Lugares",objects:"Objetos",symbols:"S\xedmbolos",flags:"Banderas",custom:"Personalizado"}}}),r.a.createElement("button",{className:t.InputUserBtn+" "+t.Btn+" "+t.BtnTransparent+" "+t.Active+" "+t.Emoji,type:"button",onClick:this.toggleEmoji},r.a.createElement("i",{className:t.IconEmoji})))}return r.a.createElement("button",{className:"".concat(t.InputUserBtn," ").concat(t.Btn," ").concat(t.BtnTransparent," ").concat(t.Emoji," ").concat(s?"":t.Disabled),type:"button",onClick:this.toggleEmoji},r.a.createElement("i",{className:t.IconEmoji}))}}]),t}(i.Component),ut=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).button=r.a.createRef(),a.toggleHelper=a.toggleHelper.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"desactivarIndex",value:function(){for(var e=this.props.mainCss,t=document.getElementsByClassName(e.AssistantTitle),a=0;a<t.length;a++){var n=t[a];n.classList.remove(e.Active),n.nextElementSibling.classList.remove(e.Active)}}},{key:"toggleHelper",value:function(e){var t=this,a=this.props.mainCss;if(this.props.ayudaStates.get("enabled")){if(this.desactivarIndex(),this.props.ayudaStates.get("open"))document.getElementsByClassName(a.AssistantHelper)[0].classList.remove(a.Active),this.button.current.classList.remove(a.Active),setTimeout(function(){t.props.closeHelp()},300);else this.button.current.classList.add(a.Active),this.props.openHelp()}else{var n=this.props.ayudaStates.get("showWarning"),s=this.state.inTransitionWarning;n||s||(this.props.showWarningHelp(),this.setState({inTransitionWarning:!0}),setTimeout(function(){t.props.hideWarningHelp(),t.setState({inTransitionWarning:!1})},3e3))}}},{key:"render",value:function(){var e=this.props,t=e.mainCss,a=e.inputStates.get("enabledHelp");return r.a.createElement("button",{type:"button",className:"".concat(t.InputUserBtn," ").concat(t.Btn," ").concat(t.BtnTransparent," ").concat(a?"":t.Disabled),onClick:this.toggleHelper,ref:this.button},r.a.createElement("i",{className:t.IconHelp}))}}]),t}(i.Component),dt=a(0),mt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={time:1,seconds:0,minutes:0},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.startTimer()}},{key:"fillTimer",value:function(){var e=this.state.time;if(e>10){var t=e/10,a=e%10;this.setState({seconds:a,minutes:parseInt(t)})}else this.setState({seconds:e})}},{key:"startTimer",value:function(){var e=this;this.timer=setInterval(function(){e.setState({time:e.state.time+1},e.fillTimer())},1e3)}},{key:"render",value:function(){var e=this.state,t=e.minutes,a=e.seconds,n=this.props.mainCss;return dt.createElement("div",{className:n.Timer},dt.createElement("p",null,t<10?"0"+t:t,":",a<10?"0"+a:a))}}]),t}(dt.Component),pt=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),ht="",vt=void 0;pt&&(window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition,"SpeechRecognition"in window?console.log("Supported"):console.log("Not Supported"),(vt=new window.SpeechRecognition).continous=!0,vt.interimResults=!0,vt.lang="es-CL");var gt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).button=r.a.createRef(),a.state={listening:!1},a.toggleListen=a.toggleListen.bind(Object(N.a)(Object(N.a)(a))),a.handleListen=a.handleListen.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"disabled",value:function(){(0,this.props.closeVoice)()}},{key:"enabled",value:function(){(0,this.props.openVoice)()}},{key:"componentWillUnmount",value:function(){this.setState({listening:!1})}},{key:"toggleListen",value:function(){this.state.listening?this.disabled():this.enabled(),this.setState({listening:!this.state.listening},this.handleListen)}},{key:"stopListening",value:function(){this.enabled(),this.setState({listening:!1},this.handleListen),setTimeout(function(){document.getElementById("inputMessage").value="",ht=""},200)}},{key:"sendListening",value:function(){var e=this;this.disabled(),this.setState({listening:!1},this.handleListen),setTimeout(function(){document.getElementById("inputMessage").value=ht,e.submitMessage()},200)}},{key:"submitMessage",value:function(){var e=document.getElementById("inputMessage").value;if(document.getElementById("inputMessage").value="",e.length>0){var t={general:this.props.generalStates.toJS(),msg:[e],send:"to",enabled:!0};this.props.updateConversation(t)}}},{key:"handleListen",value:function(e){var t="";this.state.listening?(vt.start(),vt.onend=function(){vt.start()}):(vt.stop(),vt.onend=function(){}),vt.onabort=function(){document.getElementById("inputMessage").value=""},vt.onstart=function(){},vt.onresult=function(e){for(var a="",n=e.resultIndex;n<e.results.length;n++){var s=e.results[n][0].transcript;console.log(s),e.results[n].isFinal?t+=s+"":a+=s,console.log("inter",a)}ht=/[0-9]/.test(t)?t.split(" ").join(""):t},vt.onerror=function(e){console.log("Error occurred in recognition: "+e.error)}}},{key:"fillOnListening",value:function(){var e=this,t=this.props.mainCss;return r.a.createElement("div",{className:t.Transcript+" "+t.InputUserBtn},r.a.createElement("button",{type:"button",className:t.InputUserBtn+" "+t.Btn+" "+t.BtnTransparent,onClick:function(){e.stopListening()},ref:this.button},r.a.createElement("i",{className:t.IconStop})),r.a.createElement(mt,{mainCss:t}),r.a.createElement("button",{type:"button",className:t.InputUserBtn+" "+t.Btn+" "+t.BtnTransparent,onClick:function(){e.sendListening()},ref:this.button},r.a.createElement("i",{className:t.IconPlane})))}},{key:"render",value:function(){var e=this.props,t=e.mainCss,a=e.inputStates.get("enabledVoice");return this.state.listening?this.fillOnListening():r.a.createElement("button",{type:"button",className:"".concat(t.InputUserBtn," ").concat(t.Btn," ").concat(t.BtnTransparent," ").concat(a?"":t.Disabled),onClick:this.toggleListen,ref:this.button},r.a.createElement("i",{className:t.IconVoice}))}}]),t}(i.Component),ft=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={start:0,end:0},a.input=r.a.createRef(),a.submitMessage=a.submitMessage.bind(Object(N.a)(Object(N.a)(a))),a.updateMsg=a.updateMsg.bind(Object(N.a)(Object(N.a)(a))),a.updatePosition=a.updatePosition.bind(Object(N.a)(Object(N.a)(a))),a.sendMsg=a.sendMsg.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.inputStates.get("enabled")&&this.focus()}},{key:"focus",value:function(){var e=this;setTimeout(function(){null!==e.input.current&&e.input.current.focus()},300)}},{key:"sendMsg",value:function(e){13===e.keyCode&&this.submitMessage(e)}},{key:"updateMsg",value:function(e){var t=e.target.selectionStart,a=e.target.selectionEnd;this.setState({start:t,end:a})}},{key:"updatePosition",value:function(e){var t=e.target.selectionStart,a=e.target.selectionEnd;this.setState({start:t,end:a})}},{key:"submitMessage",value:function(e){e.preventDefault();var t=this.input.current.value.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;");if(t.length>0){var a={general:this.props.generalStates.toJS(),msg:[t],send:"to",enabled:!0};this.props.updateConversation(a),this.input.current.value=""}}},{key:"fillAttach",value:function(){var e=this.props,t=e.customParamsStates,a=e.attachFile,n=e.generalStates,s=e.inputStates.get("attachEnabled");return t.getIn(["customParams","settings","attach"])&&s?r.a.createElement(ot,{attachFile:a,generalStates:n}):null}},{key:"fillEmoji",value:function(){var e=this.props,t=e.customParamsStates,a=e.mainCss,n=e.responsiveStates,s=e.disabledHelp,i=e.enabledHelp,o=e.moreHeader,l=e.toggleHeaderMore,c=e.inputStates,u=e.openEmoji,d=e.closeEmoji;return t.getIn(["customParams","settings","emoji"])?r.a.createElement(ct,{start:this.state.start,end:this.state.end,mainCss:a,responsiveStates:n,disabledHelp:s,enabledHelp:i,moreHeader:o,toggleHeaderMore:l,inputStates:c,openEmoji:u,closeEmoji:d}):null}},{key:"fillSend",value:function(){var e=this.props,t=e.customParamsStates,a=e.mainCss,n=e.inputStates.get("enabledInput");return t.getIn(["customParams","settings","voice"])?null!==this.input.current&&this.input.current.value.length>0?r.a.createElement("button",{className:a.InputUserBtn+" "+a.Btn+" "+a.BtnTransparent,onClick:this.submitMessage,id:"buttonInputMessage"},r.a.createElement("i",{className:a.IconPlane})):/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?r.a.createElement(gt,this.props):null:n?r.a.createElement("button",{className:a.InputUserBtn+" "+a.Btn+" "+a.BtnTransparent,onClick:this.submitMessage,id:"buttonInputMessage"},r.a.createElement("i",{className:a.IconPlane})):null}},{key:"fillHelp",value:function(e){var t=this.props,a=t.mainCss,n=t.ayudaStates,s=t.openHelp,i=t.closeHelp,o=t.showWarningHelp,l=t.hideWarningHelp,c=t.inputStates;if("bottom"===e)return r.a.createElement(ut,{ayudaStates:n,openHelp:s,closeHelp:i,showWarningHelp:o,hideWarningHelp:l,mainCss:a,inputStates:c})}},{key:"fillInput",value:function(){var e=this.props,t=e.mainCss;return e.inputStates.get("enabledInput")?r.a.createElement("input",{className:t.Icon,placeholder:"Ingresa tu consulta",name:"message",onChange:this.updateMsg,onClickCapture:this.updatePosition,onKeyUp:this.sendMsg,ref:this.input,tabIndex:"0",autoComplete:"off",id:"inputMessage"}):r.a.createElement("div",{className:t.InputUser+" "+t.Inactive})}},{key:"render",value:function(){var e=this.props.mainCss;if(this.props.conversationsStates.get("loading"))return r.a.createElement(rt,{active:!0,mainCss:e});if(this.props.inputStates.get("enabled")){var t=this.props,a=t.customParamsStates,n=t.mainCss,s=a.getIn(["customParams","colorHeader"]),i=a.getIn(["customParams","settings","positionHelp"]);return r.a.createElement(et,{isFetching:this.props.inputStates.get("isFetching"),showChildren:!0,colorHeader:s,mainCss:n},r.a.createElement("div",{className:n.InputUserHolder,noValidate:""},this.fillInput(),this.fillAttach(),this.fillEmoji(),this.fillHelp(i),this.fillSend()))}return r.a.createElement("form",{className:e.InputUserHolder+" "+e.Inactive,noValidate:""})}}]),t}(i.Component),Et=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).sendHelp=a.sendHelp.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"sendHelp",value:function(e){e.preventDefault();var t=("DIV"!==e.target.tagName?e.target.parentNode:e.target).getElementsByTagName("a")[0].innerText,a={general:this.props.generalStates.toJS(),msg:[t],send:"to",enabled:!0};this.props.closeHelp(),this.props.updateConversation(a)}},{key:"content",value:function(e,t){return r.a.createElement("div",{className:t.LiChild,onClick:this.sendHelp},r.a.createElement("a",{className:"cur-pointer",href:"#!"},e.get("title")))}},{key:"render",value:function(){var e=this.props,t=e.ayuda,a=e.mainCss;return this.content(t,a)}}]),t}(i.Component),bt=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.d,a=e.transform,n=e.style,s=e.viewBox,i=e.className;return r.a.createElement("svg",{className:i,xmlns:"http://www.w3.org/2000/svg",viewBox:s},r.a.createElement("defs",null),r.a.createElement("path",{id:"angle-down-solid",style:n,d:t,transform:a}))}}]),t}(i.Component),St=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).helpBoxDiv=r.a.createRef(),a.toggleIndex=a.toggleIndex.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"toggleIndex",value:function(e){var t=this.refs.helpBoxDiv,a=this.props.mainCss;t.nextElementSibling.classList[1]===a.Active?(t.classList.remove(a.Active),t.nextElementSibling.classList.remove(a.Active),null!==t.lastElementChild&&t.lastElementChild.classList.remove(a.Active)):(t.nextElementSibling.classList.add(a.Active),t.classList.add(a.Active),null!==t.lastElementChild&&t.lastElementChild.classList.add(a.Active))}},{key:"fillHelp",value:function(e,t){var a=this;if(e.get("listChild").size>0)return r.a.createElement("div",{className:t.NodoAbuelo},r.a.createElement("p",null,e.get("description")),e.get("listChild").map(function(e,n){return r.a.createElement(Et,{mainCss:t,ayuda:e,key:n,generalStates:a.props.generalStates,updateConversation:a.props.updateConversation,closeHelp:a.props.closeHelp})}))}},{key:"content",value:function(e,t){return r.a.createElement("div",{className:t.AssistantHelperChild},r.a.createElement("div",{ref:"helpBoxDiv",className:t.AssistantTitle,onClick:this.toggleIndex},r.a.createElement("a",{href:"#!"},e.get("title")),r.a.createElement(bt,{d:"M143,352.3,7,216.3a23.9,23.9,0,0,1,0-33.9H7a24.291,24.291,0,0,1,34.223,0L159.9,306.2,281.937,182.4c9.4-9.4,21.563-9.4,30.863,0h0a23.9,23.9,0,0,1,0,33.9l-136,136a23.781,23.781,0,0,1-33.8,0Z",transform:"translate(0.05 -175.35)",style:{},className:t.IconLi,viewBox:"0 0 319.9 184"})),this.fillHelp(e,t))}},{key:"render",value:function(){var e=this.props,t=e.ayuda,a=e.mainCss;return this.content(t,a)}}]),t}(i.Component),Ct=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ayudaStates,a=e.mainCss,n=t.get("showWarning")?" "+a.HelpBloqued:"";return r.a.createElement("div",{className:a.Bloqueo+n},r.a.createElement("p",null,"Debes concluir la interacci\xf3n para usar la ayuda"))}}]),t}(i.Component),Ot=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).help=r.a.createRef(),a.callAsyncData(),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"callAsyncData",value:function(){""===this.props.ayudaStates.getIn(["ayuda",0]).get("title")&&this.props.getAyuda()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,a=t.mainCss;t.ayudaStates.get("open")?setTimeout(function(){e.help.current.classList.add(a.Active)},0):this.help.current.classList.remove(a.Active)}},{key:"content",value:function(e,t){var a=this,n=this.props.mainCss,s="bottom"===t?n.AssistantDown+" ":" ";return""!==e.getIn(["ayuda",0]).get("title")&&e.get("open")?r.a.createElement("div",{ref:this.help,className:s+n.AssistantHelper},r.a.createElement(Ct,{ayudaStates:e,mainCss:n}),r.a.createElement("h3",null,"Ayuda"),r.a.createElement("p",{className:n.Subtittle},"Haz ",r.a.createElement("strong",null,"clic")," en los siguientes t\xf3picos para"," ",r.a.createElement("strong",null,"obtener ayuda")," de c\xf3mo utilizar la asistencia online."),e.get("ayuda").map(function(e,t){return r.a.createElement(St,{mainCss:n,ayuda:e,key:t,updateConversation:a.props.updateConversation,closeHelp:a.props.closeHelp,generalStates:a.props.generalStates})})):r.a.createElement("div",{ref:this.help,className:s+n.AssistantHelper},r.a.createElement(Ct,{ayudaStates:e,mainCss:n}))}},{key:"render",value:function(){var e=this.props,t=e.ayudaStates,a=e.customParamsStates,n=e.mainCss,s=a.getIn(["customParams","colorHeader"]),i=a.getIn(["customParams","settings","positionHelp"]);return r.a.createElement(et,{isFetching:t.get("isFetching"),showChildren:!0,colorHeader:s,mainCss:n},this.content(t,i))}}]),t}(i.Component),_t=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.msg,a=(e.send,e.mainCss);return"exito_formulario"===t?console.log("form"):r.a.createElement("div",{className:a.Bubble},r.a.createElement("span",{className:a.BubbleText,dangerouslySetInnerHTML:{__html:t}}))}}]),t}(i.Component),yt=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.msgs,a=e.animation,n=e.send,s=e.avatar,i=e.mainCss,o="to"===n;return t.map(function(e,l){if("exito_formulario"!==t._tail.array[0]&&"error_formulario"!==t._tail.array[0]&&""!==t._tail.array[0])return o?r.a.createElement("div",{key:l,className:i.ConversationBubble+" "+a+" "+i.To},r.a.createElement("div",null),r.a.createElement(_t,{msg:e,send:n,mainCss:i})):r.a.createElement("div",{key:l,className:i.ConversationBubble+" "+a+" "+i.Send},r.a.createElement("img",{className:i.RoundedImg,src:s,alt:""}),r.a.createElement(_t,{msg:e,send:n,mainCss:i}))})}}]),t}(i.Component),kt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).handleButtonClick=function(e){window.open(e,"_blank")},a.sendButtonresponse=a.sendButtonresponse.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"sendButtonresponse",value:function(e){var t=e.target.dataset.msg.toString();console.log("msg botones",e);var a={general:this.props.generalStates.toJS(),msg:[t],send:"to",enabled:!1};this.props.updateConversationButton(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.buttons,n=t.animation,s=t.send,i=t.mainCss,o=a.map(function(t,a){return t.get("value").includes("http")||t.get("value").includes("https")?r.a.createElement("button",{key:a,className:i.Btn+" "+i.BtnBig,"data-msg":t.get("value"),onClick:function(a){return e.handleButtonClick(t.get("value"))}},t.get("title")):(t.get("value"),r.a.createElement("button",{key:a,className:i.Btn+" "+i.BtnBig,"data-msg":t.get("value"),onClick:e.sendButtonresponse},t.get("title")))});return r.a.createElement("div",{className:i.ConversationBubble+" "+i.Buttons+" "+n+s},o)}}]),t}(i.Component),Nt=a(1),jt=a.n(Nt),At=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={selected:-1,active:!1},a.options=r.a.createRef(),a.activeSelect=a.activeSelect.bind(Object(N.a)(Object(N.a)(a))),a.setSelected=a.setSelected.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.mainCss;if(this.state.active){var t=document.getElementsByClassName(e.ConversationHolder)[0].scrollHeight;document.getElementsByClassName(e.ConversationHolder)[0].scrollTop=t}}},{key:"sendSelectResponse",value:function(e){var t=e.target.dataset.value,a={general:this.props.generalStates.toJS(),msg:[t],send:"to",enabled:!1};this.props.updateConversation(a)}},{key:"fillOptions",value:function(e){return e.map(function(e,t){return r.a.createElement("option",{value:e.get("value")},e.get("text"))})}},{key:"activeSelect",value:function(){this.setState({active:!this.state.active})}},{key:"setSelected",value:function(e){var t=e.target.dataset.value;this.options.current.dataset.valor=t,this.sendSelectResponse(e),this.setState({selected:t,active:!1})}},{key:"fillOptionsShow",value:function(e){var t=this,a=this.props.mainCss,n=[];return e.forEach(function(e,a){t.state.selected==e.get("value")&&n.push(r.a.createElement("div",{key:a,"data-value":e.get("value"),onClick:t.activeSelect},e.get("text")))}),e.forEach(function(e,s){if(t.state.selected==e.get("value")&&-1!=e.get("value"))n.push(r.a.createElement("div",{"data-value":e.get("value"),key:s+e.get("text"),className:a.Disabled},e.get("text")));else{if(-1==e.get("value"))return null;n.push(r.a.createElement("div",{"data-value":e.get("value"),key:s+e.get("text"),onClick:t.setSelected},e.get("text")))}}),n}},{key:"content",value:function(){var e=this.props,t=e.options,a=e.withError,n=e.animation,s=e.send,i=e.mainCss,o=this.state.active?" "+i.Active:"",l=a?" "+i.Error:"";return r.a.createElement("div",{className:i.ConversationBubble+" "+n+s},r.a.createElement("div",{className:i.Select},r.a.createElement("div",{className:i.Options+" "+o+l,ref:this.options},this.fillOptionsShow(t))))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component);At.ConversationSelects={options:jt.a.any.isRequired,animation:jt.a.string.isRequired,send:jt.a.string.isRequired,updateConversation:jt.a.func.isRequired,generalStates:jt.a.any.isRequired,mainCss:jt.a.any.isRequired};var Tt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).closeForm=a.closeForm.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"closeForm",value:function(e){var t={general:this.props.general,msg:[e.target.dataset.msg],send:"to",enabled:!1};this.props.closeForm(t)}},{key:"content",value:function(){var e=this.props,t=e.textA,a=e.textB,n=e.textStrong,s=e.mainCss;return r.a.createElement("div",{className:s.HeaderForm},r.a.createElement("p",null,void 0!==t?t:null," ",r.a.createElement("strong",null,void 0!==n?n:null)," ",void 0!==a?a:null))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),It=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.mainCss;return t?r.a.createElement("div",{class:a.ErrorMsg},r.a.createElement("p",null,r.a.createElement("strong",null,"Ups! Tenemos un problema")),r.a.createElement("p",null,"Favor verifique sus datos e intente nuevamente.")):r.a.createElement(r.a.Fragment,null)}}]),t}(i.Component);function Rt(e,t,a){switch(e.tagName){case"INPUT":return"checkbox"===e.type?"off"!==e.value:"file"===e.type?0!==e.files.length:0!==e.value.length;case"DIV":if(e.classList[0].includes("Options"))return xt(e,t,a);break;case"TEXTAREA":return 0===!e.value.length}}function Lt(e,t,a){return!a||0===!e.files.length}function Ht(e,t,a){return!a||"off"===!e.value}function wt(e,t,a){var n=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a?n.test(e.value):!(e.value.length>0)||n.test(e.value)}function Bt(e,t,a){if(a){return!!(/^[0-9]+$/.test(e.value)&&e.value.length>=9&&e.value.length<=9)}if(e.value.length>0){return!!(/^[0-9]+$/.test(e.value)&&e.value.length>=9&&e.value.length<=9)}return!0}function Mt(e,t,a){if(a){if(""===e.value)return!1;var n=t.getIn(["rules","min"]),s=t.getIn(["rules","max"]),i=!1;return e.value.length>=n&&e.value.length<=s&&(i=!0),i}if(e.value.length>0){if(""===e.value)return!1;var r=t.getIn(["rules","min"]),o=t.getIn(["rules","max"]),l=!1;return e.value.length>=r&&e.value.length<=o&&(l=!0),l}return!0}function Ft(e,t,a){if(e.value=e.value.replace(/\D+/g,""),a){if(""===e.value)return!1;var n=t.getIn(["rules","min"]),s=t.getIn(["rules","max"]),i=!1;return e.value>=n&&e.value<=s&&(i=!0),i}if(e.value.length>0){if(""===e.value)return!1;var r=t.getIn(["rules","min"]),o=t.getIn(["rules","max"]),l=!1;return e.value>=r&&e.value<=o&&(l=!0),l}return!0}function Pt(e){return"string"===typeof e?e.replace(/^0+|[^0-9kK]+/g,"").toUpperCase():""}function Dt(e,t,a){if(e=e.value,a){if("string"!==typeof e)return!1;if(!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(e))return!1;if((e=Pt(e)).length>9||e.length<8)return!1;for(var n=parseInt(e.slice(0,-1),10),s=0,i=1;n>0;)i=(i+n%10*(9-s++%6))%11,n=Math.floor(n/10);var r=i>0?""+(i-1):"K";return r===e.slice(-1)}if(e.length>0){if("string"!==typeof e)return!1;if(!/^0*(\d{1,3}(\.?\d{3})*)-?([\dkK])$/.test(e))return!1;if((e=Pt(e)).length>9||e.length<8)return!1;for(n=parseInt(e.slice(0,-1),10),s=0,i=1;n>0;)i=(i+n%10*(9-s++%6))%11,n=Math.floor(n/10);return(r=i>0?""+(i-1):"K")===e.slice(-1)}return!0}function Ut(e){for(var t=(e=Pt(e=e.value)).slice(-4,-1)+"-"+e.substr(e.length-1),a=4;a<e.length;a+=3)t=e.slice(-3-a,-a)+"."+t;return t}function xt(e,t,a){var n=void 0===e.dataset.valor?-1:e.dataset.valor;return a?-1!==n:-1===n||-1!==n}var Vt=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(_.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(s)))).validateInput=function(e){var t=a.props;(0,t.validateFunc)(t.validate,t.name,e)},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"content",value:function(){var e=this,t=this.props,a=t.type,n=t.name,s=t.placeholder,i=t.autocomplete,o=t.withError,l=t.mainCss,c=t.value,u=o?" "+l.Error:"";return r.a.createElement("input",{type:a,name:n,placeholder:s,autoComplete:i,onKeyUp:function(t){e.validateInput(t)},className:u,defaultValue:c||""})}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),Gt=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"content",value:function(){var e=this.props,t=e.name,a=e.placeholder,n=e.autocomplete,s=e.rows,i=e.validateFunc,o=e.validate,l=e.withError?" error":"";return r.a.createElement("textarea",{name:t,placeholder:a,autoComplete:n,rows:s,onKeyUp:i.bind(this,o,t),className:l})}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),Jt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={selected:-1,active:!1},a.options=r.a.createRef(),a.activeSelect=a.activeSelect.bind(Object(N.a)(Object(N.a)(a))),a.setSelected=a.setSelected.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"fillOptions",value:function(e){return e.map(function(e,t){return r.a.createElement("option",{value:e.get("value")},e.get("text"))})}},{key:"activeSelect",value:function(){this.setState({active:!this.state.active})}},{key:"setSelected",value:function(e,t,a,n,s){var i=s.target.dataset.value;this.options.current.dataset.valor=i,a(e,t,s.target.closest("."+n.Options)),this.setState({selected:i,active:!1})}},{key:"fillOptionsShow",value:function(e){var t=this,a=this.props,n=a.validateFunc,s=a.validate,i=a.name,o=a.mainCss,l=s.get("types").filter(function(e){return"required"===e}),c=this.state.selected,u=[];return e.forEach(function(e,a){c==e.get("value")&&u.push(r.a.createElement("div",{key:a,"data-value":e.get("value"),onClick:t.activeSelect},e.get("text")))}),e.forEach(function(e,a){if(0===l.size)c==e.get("value")?u.push(r.a.createElement("div",{"data-value":e.get("value"),key:a+e.get("text"),onclick:t.activeSelect,className:o.Disabled},e.get("text"))):u.push(r.a.createElement("div",{"data-value":e.get("value"),key:a+e.get("text"),onClick:t.setSelected.bind(t,s,i,n,o)},e.get("text")));else if(c==e.get("value")&&-1!==e.get("value"))u.push(r.a.createElement("div",{"data-value":e.get("value"),key:a+e.get("text"),onclick:t.activeSelect,className:o.Disabled},e.get("text")));else{if(-1===e.get("value"))return null;u.push(r.a.createElement("div",{"data-value":e.get("value"),key:a+e.get("text"),onClick:t.setSelected.bind(t,s,i,n,o)},e.get("text")))}}),u}},{key:"content",value:function(){var e=this.props,t=e.options,a=e.withError,n=e.mainCss,s=this.state.active?" "+n.Active:"",i=a?" "+n.Error:"";return r.a.createElement("div",{className:n.Select},r.a.createElement("div",{className:n.Options+s+i,ref:this.options},this.fillOptionsShow(t)))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),Wt=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"content",value:function(){var e=this.props,t=e.name,a=e.validateFunc,n=e.validate,s=e.withError,i=e.mainCss,o=s?" "+i.Error:"";return r.a.createElement("label",{className:i.Switch},r.a.createElement("strong",null,"NO"),r.a.createElement("input",{type:"checkbox",className:o,name:t,onChange:a.bind(this,n,t)}),r.a.createElement("span",{className:i.Slider+" "+i.Round}),r.a.createElement("strong",null,"SI"))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),zt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).attach=r.a.createRef(),a.attachFile=a.attachFile.bind(Object(N.a)(Object(N.a)(a))),a.attachIconClick=a.attachIconClick.bind(Object(N.a)(Object(N.a)(a))),a.deleteFile=a.deleteFile.bind(Object(N.a)(Object(N.a)(a))),a.state={error:null,enabled:!0},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"deleteFile",value:function(e,t){(0,this.props.deleteFileForm)(e)}},{key:"attachIconClick",value:function(){this.attach.current.click()}},{key:"attachFile",value:function(){var e=this.attach.current.files[0].size,t=this.props,a=t.attachFileForm,n=t.attach;if(e>0&&e<=n.get("maxSize")){var s=this.attach.current.files[0],i=s.type,r=n.get("types"),o=!1;if(r.forEach(function(e){e===i&&(o=!0)}),o){var l={};l.file=s,a(l),this.setState({error:null,enabled:!1})}else this.setState({error:"No hay mano"})}else this.setState({error:"Excede el m\xe1ximo permitido"})}},{key:"fillError",value:function(){if(null!==this.state.error){var e=this.props.mainCss;return r.a.createElement("p",{className:e.Error},this.state.error)}}},{key:"fillFiles",value:function(e){var t=this,a=e.map(function(e,a){return r.a.createElement("li",{key:a},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.get("url")},e.get("name")),r.a.createElement("i",{onClickCapture:t.deleteFile.bind(t,a),className:"fas fa-times"}))});return r.a.createElement("ul",null,a)}},{key:"content",value:function(){var e=this.props,t=e.type,a=e.name,n=e.formularioStates,s=e.mainCss,i=n.get("files"),o=this.state.error?" "+s.Error:"";return i&&i.size>0?r.a.createElement("div",null,r.a.createElement("input",{type:t,ref:this.attach,className:"hide",name:a,onChange:this.attachFile}),r.a.createElement("button",{disabled:this.state.enabled,type:"button",onClick:this.attachIconClick,className:s.Btn+" "+s.BtnAttach+o},"Adjuntar",r.a.createElement("i",{className:"fas fa-paperclip"})),this.fillFiles(i)):r.a.createElement("div",null,r.a.createElement("input",{type:t,ref:this.attach,className:s.Hide,name:a,onChange:this.attachFile}),r.a.createElement("button",{type:"button",onClick:this.attachIconClick,className:s.Btn+" "+s.BtnAttach+o},"Adjuntar",r.a.createElement("i",{className:"fas fa-paperclip"})))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),Zt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={active:!1},a.options=r.a.createRef(),a.input=r.a.createRef(),a.inputActive=r.a.createRef(),a.setSelected=a.setSelected.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.name!==this.props.name||e.options!==this.props.options||e.validateFunc!==this.props.validateFunc||e.validate!==this.props.validate||e.withError!==this.props.withError||e.disabled!==this.props.disabled||e.selectedChange!==this.props.selectedChange||e.selectedParent!==this.props.selectedParent||t.selected!==this.state.selected||t.active!==this.state.active||t.select!==this.state.select||t.inputValue!==this.state.inputValue}},{key:"setSelected",value:function(e,t,a,n){var s=this,i=n.currentTarget.textContent;this.input.current.value=i,this.setState({active:!1},function(){s.props.setSelectedChange()})}},{key:"fillOptionsShow",value:function(e){var t=this,a=this.props,n=a.validateFunc,s=a.validate,i=a.name,o=[];return o.push(e.filter(function(e){return e.get("text").toString().toLowerCase().includes(t.state.inputValue.toLowerCase())}).map(function(e,a){return r.a.createElement("div",{key:a,"data-value":e.get("value"),onClick:t.setSelected.bind(t,s,i,n)},e.get("text"))})),o}},{key:"content",value:function(){var e=this,t=this.props,a=t.options,n=t.withError,s=t.disabled,i=t.mainCss,o=this.state.active?" ".concat(i.Active):"",l=n?" ".concat(i.Error):"";return this.state.active?r.a.createElement("div",{className:i.SelectSearch},r.a.createElement("div",null,r.a.createElement("input",{ref:this.input,disabled:void 0!==s,type:"text",tabIndex:-1,className:"".concat(i.SelectSearch," ").concat(o),onChange:function(){e.setState({inputValue:e.input.current.value})},onFocus:function(){e.setState({active:!0})},value:this.state.inputValue}),r.a.createElement("div",{className:i.CloseSelect,onClick:function(){e.setState({active:!1})}})),r.a.createElement("div",{className:"".concat(i.Options," ").concat(o," ").concat(l),ref:this.options},this.fillOptionsShow(a))):r.a.createElement("div",{className:i.SelectSearch},r.a.createElement("input",{type:"text",className:"".concat(i.Select," ").concat(o),onFocus:function(){e.setState({active:!0})},disabled:s,value:this.props.selectedChange?"":this.state.selected,onChange:function(e){e.preventDefault()}}))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),Yt=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).shouldComponentUpdate=function(e,t){return e.name!==a.props.name||e.validateFunc!==a.props.validateFunc||e.validate!==a.props.validate||e.withError!==a.props.withError||e.disabled!==a.props.disabled||!p.a.is(e.options,a.props.options)||e.setSelectedParent!==a.props.setSelectedParent||e.setSelectedChildren!==a.props.setSelectedChildren||e.selectedParent!==a.props.selectedParent||e.selectedChildren!==a.props.selectedChildren||e.typeLink!==a.props.typeLink||e.active!==a.props.active},a.options=r.a.createRef(),a.setSelected=a.setSelected.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"fillOptions",value:function(e){return e.map(function(e,t){return r.a.createElement("option",{value:e.get("value")},e.get("text"))})}},{key:"setSelected",value:function(e,t,a,n){var s=n.target.dataset.valor;this.options.current.dataset.valor=s,a(e,t,this.options.current),this.props.setActive(!0,s,this.props.typeLink)}},{key:"fillOptionsShow",value:function(e){var t=this,a=this.props,n=a.validateFunc,s=a.validate,i=a.name,o=a.typeLink,l=a.mainCss,c="parent"===o?this.props.selectedParent:this.props.selectedChildren,u=[],d=s.get("types").filter(function(e){return"required"===e});return u.push(e.filter(function(e){return e.get("value")===c}).map(function(e,a){return r.a.createElement("div",{key:a,"data-valor":e.get("value"),onClick:function(){t.props.setActive(!1,null,t.props.typeLink)}},e.get("text"))})),e.forEach(function(e,a){if(0===d.size)c===e.get("value")?u.push(r.a.createElement("div",{"data-valor":e.get("value"),key:a+e.get("text"),className:l.Disabled},e.get("text"))):u.push(r.a.createElement("div",{"data-valor":e.get("value"),key:a+e.get("text"),onClick:t.setSelected.bind(t,s,i,n)},e.get("text")));else if(c===e.get("value")&&-1!==e.get("value"))u.push(r.a.createElement("div",{"data-valor":e.get("value"),key:a+e.get("text"),className:l.Disabled},e.get("text")));else{if(-1===e.get("value"))return null;u.push(r.a.createElement("div",{"data-valor":e.get("value"),key:a+e.get("text"),onClick:t.setSelected.bind(t,s,i,n)},e.get("text")))}}),u}},{key:"content",value:function(){var e=this.props,t=e.options,a=e.withError,n=e.disabled,s=e.name,i=e.mainCss,o=this.props.active?" ".concat(i.Active):"",l=a?" ".concat(i.Error):"";return r.a.createElement("div",{className:i.Select,name:s,disabled:void 0!==n},r.a.createElement("div",{className:i.Options+o+l,ref:this.options},this.fillOptionsShow(t)))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),Kt=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(_.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(s)))).state={inputValue:""},a.options=r.a.createRef(),a.input=r.a.createRef(),a.setInputValue=function(){a.setState({inputValue:a.input.current.value})},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;this.state.active&&setTimeout(function(){e.input.current.focus()},100)}},{key:"shouldComponentUpdate",value:function(e,t){return!p.a.is(e.options,this.props.options)||e.name!==this.props.name||e.validateFunc!==this.props.validateFunc||e.validate!==this.props.validate||e.withError!==this.props.withError||e.selectedChildren!==this.props.selectedChildren||e.selectedParent!==this.props.selectedParent||e.setSelectedChildren!==this.props.setSelectedChildren||e.setSelectedParent!==this.props.setSelectedParent||e.typeLink!==this.props.typeLink||e.disabled!==this.props.disabled||e.active!==this.props.active||t.inputValue!==this.state.inputValue}},{key:"setSelected",value:function(e){var t=this,a=this.props,n=a.options,s=a.typeLink,i=e.currentTarget.dataset.value;this.input.current.dataset.valor=i;var r=n.filter(function(e){return e.get("value")===i}).get(0).get("text");this.setState({inputValue:r},function(){t.props.setActive(!0,i,s)})}},{key:"fillOptionsShow",value:function(e){var t=this,a=[],n=this;return a.push(e.filter(function(e){return e.get("text").toString().toLowerCase().includes(t.state.inputValue.toLowerCase())}).map(function(e,t){return r.a.createElement("div",{key:t,"data-value":e.get("value"),onClick:function(e){n.setSelected(e)}},e.get("text"))})),a}},{key:"content",value:function(){var e=this,t=this.props,a=t.options,n=t.withError,s=t.disabled,i=t.name,o=t.mainCss,l=t.typeLink,c=this.props.active?" ".concat(o.Active):"",u=n?" ".concat(o.Error):"";if(this.props.active)return r.a.createElement("div",{className:o.SelectSearch},r.a.createElement("div",null,r.a.createElement("input",{name:i,ref:this.input,disabled:void 0!==s,type:"text",tabIndex:-1,className:"".concat(o.Select," ").concat(c),onChange:function(){e.setInputValue()},value:this.state.inputValue}),r.a.createElement("div",{className:o.CloseSelect,onClick:function(){e.props.setActive(!1,null,l)}})),r.a.createElement("div",{className:"".concat(o.Options," ").concat(c," ").concat(u),ref:this.options},this.fillOptionsShow(a)));var d="children"===this.props.typeLink?this.props.selectedChildren:this.props.selectedParent,m=-1===d?"Seleccione":a.filter(function(e){return e.get("value")===d}).get(0).get("text");return r.a.createElement("div",{className:o.SelectSearch},r.a.createElement("input",{name:i,"data-valor":d,type:"text",ref:this.input,className:"".concat(o.Select," ").concat(c),onFocus:function(){e.props.setActive(!1,null,l),e.setState({inputValue:""})},disabled:s,value:m,onChange:function(e){e.preventDefault()}}))}},{key:"render",value:function(){return this.content()}}]),t}(i.Component),qt=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(_.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(s)))).state={selectedParent:-1,activeParent:!1,selectedChildren:-1,activeChildren:!1},a.shouldComponentUpdate=function(e,t){return!p.a.is(e.selects,a.props.selects)||e.validateFunc!==a.props.validateFunc||e.withErrorParent!==a.props.withErrorParent||e.withErrorChildren!==a.props.withErrorChildren||t.selectedParent!==a.state.selectedParent||t.selectedChildren!==a.state.selectedChildren||t.activeChildren!==a.state.activeChildren||t.activeParent!==a.state.activeParent},a.setSelectedParent=function(e){a.setState({selectedParent:e,selectedChildren:-1,childrenChange:!0})},a.setSelectedChildren=function(e){a.setState({selectedChildren:e})},a.setActive=function(e,t,n){e?"children"!==n?a.setState({activeParent:!a.state.activeParent,activeChildren:!1},function(){a.setSelectedParent(t)}):a.setState({activeChildren:!a.state.activeChildren,activeParent:!1},function(){a.setSelectedChildren(t)}):"children"!==n?a.setState({activeParent:!a.state.activeParent,activeChildren:!1}):a.setState({activeChildren:!a.state.activeChildren,activeParent:!1})},a.activeChildren=function(e,t,n){a.setState({activeChildren:!1},function(){e&&("children"!==n?a.setSelectedParent(t):a.setSelectedChildren(t))})},a.fillError=function(e,t){var n=a.props.mainCss;return e?r.a.createElement("p",null,r.a.createElement("small",{className:n.Error},t)):null},a.fillParent=function(e){var t=e.get("type"),n=a.props,s=n.withErrorParent,i=n.validateFunc,o=n.mainCss;switch(t){case"select":return r.a.createElement("fieldset",{className:o.SelectsLink},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Yt,{name:e.get("name"),validateFunc:i,validate:e.get("validate"),withError:s,options:e.get("options"),setSelectedParent:a.setSelectedParent,selectedParent:a.state.selectedParent,typeLink:"parent",mainCss:o,active:a.state.activeParent,setActive:a.setActive.bind(Object(N.a)(Object(N.a)(a)))}),a.fillError(s,e.getIn(["validate","error"])));case"search":return r.a.createElement("fieldset",{className:o.SelectsLink},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Kt,{name:e.get("name"),validateFunc:i,validate:e.get("validate"),withError:s,options:e.get("options"),setSelectedParent:a.setSelectedParent,selectedParent:a.state.selectedParent,typeLink:"parent",mainCss:o,active:a.state.activeParent,setActive:a.setActive}),a.fillError(s,e.getIn(["validate","error"])))}},a.fillChildren=function(e){var t=e.get("type"),n=a.props,s=n.withErrorChildren,i=n.validateFunc,o=n.mainCss,l=a.state.selectedParent;if(-1!==l){var c=e.get("options").filter(function(e){return e.get("key")===l});switch(t){case"select":return r.a.createElement("fieldset",{className:o.SelectsLink},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Yt,{name:e.get("name"),validateFunc:i,validate:e.get("validate"),withError:s,options:c.get(0).get("options"),selectedParent:a.state.selectedParent,selectedChildren:a.state.selectedChildren,setSelectedChildren:a.setSelectedChildren,typeLink:"children",mainCss:o,active:a.state.activeChildren,setActive:a.setActive}),a.fillError(s,e.getIn(["validate","error"])));case"search":return r.a.createElement("fieldset",{className:o.SelectsLink},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Kt,{name:e.get("name"),validateFunc:i,validate:e.get("validate"),withError:s,options:c.get(0).get("options"),selectedParent:a.state.selectedParent,selectedChildren:a.state.selectedChildren,setSelectedChildren:a.setSelectedChildren,typeLink:"children",mainCss:o,active:a.state.activeChildren,setActive:a.setActive}),a.fillError(s,e.getIn(["validate","error"])))}}else switch(t){case"select":return r.a.createElement("fieldset",{className:"".concat(o.SelectsLink," ").concat(o.Disabled)},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Yt,{name:e.get("name"),validateFunc:i,validate:e.get("validate"),withError:s,disabled:!0,selectedChildren:a.state.selectedChildren,typeLink:"children",mainCss:o,active:a.state.activeChildren,setActive:a.setActive}),a.fillError(s,e.getIn(["validate","error"])));case"search":return r.a.createElement("fieldset",{className:"".concat(o.SelectsLink," ").concat(o.Disabled)},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Kt,{name:e.get("name"),validateFunc:i,validate:e.get("validate"),withError:s,disabled:!0,selectedChildren:a.state.selectedChildren,typeLink:"children",mainCss:o,active:a.state.activeChildren,setActive:a.setActive}),a.fillError(s,e.getIn(["validate","error"])))}return null},a.content=function(){var e=a.props.selects,t=e.get("parent"),n=e.get("children");return r.a.createElement(r.a.Fragment,null,a.fillParent(t),a.fillChildren(n))},a.render=function(){return a.content()},a}return Object(k.a)(t,e),t}(i.Component),Qt=a(66),Xt=a.n(Qt),$t=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={invalidFiels:[],validator:!1},a.validate=a.validate.bind(Object(N.a)(Object(N.a)(a))),a.sendDataForm=a.sendDataForm.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"validate",value:function(e,t,a){}},{key:"validateAll",value:function(e,t){for(var a=this.props.mainCss,n=[],i=function(i){var r=t[i],o=e.get(i),l=o.get("name"),c=o.get("validate"),u=c.get("types"),d=r.elements[0],m=!1,p=u.filter(function(e){return"required"===e});p=p.size>0,d=void 0!==d?d:r.getElementsByClassName(a.Options)[0],n=n.filter(function(e){return e!==l}),u.forEach(function(e){s[e](d,c,p)||(m=!0)}),m&&n.push(l)},r=0;r<t.length;r++)i(r);return n}},{key:"closeForm",value:function(){var e=this.props,t=e.generalStates,a=e.closeForm;a({general:t,msg:["noContacto"],send:"to",enabled:!1})}},{key:"sendDataForm",value:function(e){for(var t=this.props,a=t.form,n=t.sendForm,s=t.generalStates.toJS(),i=(a.get("fields"),e.target.closest("form").getElementsByTagName("fieldset")),r=a.get("url"),o={},l=[],c=0;c<i.length;c++){var u=i[c].elements[0],d=u.value,m=u.name;o[m]=d,l.push({name:m,value:d})}n(o,r,s)}},{key:"fillHeader",value:function(e){if(e.size>0){var t=this.props,a=t.generalStates,n=t.closeForm,s=t.colorHeader,i=t.mainCss;return r.a.createElement(Tt,{icon:e.get("icon"),textA:e.get("textA"),textStrong:e.get("textStrong"),textB:e.get("textB"),closeMsg:e.get("closeMsg"),general:a,closeForm:n,colorHeader:s,mainCss:i})}return null}},{key:"fillError",value:function(e,t){var a=this.props.mainCss;return e?r.a.createElement("p",null,r.a.createElement("small",{className:a.Error},t)):null}},{key:"fillContent",value:function(e){var t=this,a=this.props.mainCss;if(e.size>0){var n=[];return e.forEach(function(e,s){var i=t.state.invalidFiels.includes(e.get("name"));switch(e.get("type")){case"textarea":n.push(r.a.createElement("fieldset",{key:s+e.get("name")},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Gt,{rows:e.get("rows"),name:e.get("name"),placeholder:e.get("placeholder"),autocomplete:e.get("autocomplete"),validateFunc:t.validate,validate:e.get("validate"),withError:i,mainCss:a}),t.fillError(i,e.getIn(["validate","error"]))));break;case"select":n.push(r.a.createElement("fieldset",{key:s+e.get("name")},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Jt,{name:e.get("name"),validateFunc:t.validate,validate:e.get("validate"),withError:i,options:e.get("options"),mainCss:a}),t.fillError(i,e.getIn(["validate","error"]))));break;case"search":n.push(r.a.createElement("fieldset",{key:s+e.get("name")},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Zt,{name:e.get("name"),validateFunc:t.validate,validate:e.get("validate"),withError:i,options:e.get("options"),mainCss:a}),t.fillError(i,e.getIn(["validate","error"]))));break;case"selects-link":var o=t.state.invalidFiels.includes(e.get("parent").get("name")),l=t.state.invalidFiels.includes(e.get("children").get("name"));n.push(r.a.createElement(qt,{key:s,selects:e,withErrorParent:o,withErrorChildren:l,validateFunc:t.validate,mainCss:a}));break;case"checkbox":n.push(r.a.createElement("fieldset",{key:s+e.get("name")},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Wt,{name:e.get("name"),mainCss:a,validateFunc:t.validate,validate:e.get("validate"),withError:i}),t.fillError(i,e.getIn(["validate","error"]))));break;case"file":var c=t.props,u=c.attachFileForm,d=c.formularioStates,m=c.general,p=c.colorHeader,h=c.deleteFileForm;n.push(r.a.createElement("fieldset",{key:s+e.get("name")},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(zt,{validateFunc:t.validate,validate:e.get("validate"),withError:i,general:m,attachFileForm:u,colorHeader:p,type:e.get("type"),name:e.get("name"),formularioStates:d,deleteFileForm:h,attach:e.getIn(["validate","rules"]),mainCss:a}),t.fillError(i,e.getIn(["validate","error"]))));break;default:n.push(r.a.createElement("fieldset",{key:s+e.get("name")},r.a.createElement("legend",null,e.get("legend")),r.a.createElement(Vt,{type:e.get("type"),name:e.get("name"),placeholder:e.get("placeholder"),autocomplete:e.get("autocomplete"),validateFunc:t.validate,validate:e.get("validate"),withError:i,value:e.get("value"),mainCss:a}),t.fillError(i,e.getIn(["validate","error"]))))}}),n}return null}},{key:"content",value:function(){var e=this,t=this.props,a=t.formularioStates,n=t.form,s=t.mainCss,i=t.animation,o=(t.disableForm,n.get("header")),l=n.get("bajada"),c=n.get("fields"),u=n.get("icon"),d=a.get("error");return r.a.createElement("div",{className:s.ConversationBubbleForm+" "+i+" "+s.Send+" "},r.a.createElement("img",{className:s.RoundedImg,src:Xt.a,alt:""}),r.a.createElement("div",{className:s.ContainerForm},r.a.createElement("form",{autoComplete:"off"},r.a.createElement("div",{className:s.closeFormContainer},r.a.createElement("i",{class:u}),r.a.createElement("button",{className:s.closeFormButton,type:"button",onClick:function(){return e.closeForm()}},"X")),this.fillHeader(o),r.a.createElement("p",{className:s.Red},l),this.fillContent(c),r.a.createElement("button",{type:"button",onClick:this.sendDataForm,className:s.ButtonSend},"Ingresar")),r.a.createElement(It,{error:d,mainCss:s})))}},{key:"render",value:function(){var e=this.props,t=e.formularioStates,a=e.customParamsStates,n=e.mainCss,s=a.getIn(["customParams","colorHeader"]);return r.a.createElement(et,{isFetching:t.get("isFetching"),showChildren:!0,colorHeader:s,mainCss:n},this.content())}}]),t}(i.Component),ea=a(33),ta=(a(56),Object(c.b)(null,{sendValoracion:Ge})(function(e){var t=e.generalStates,a=e.sendValoracion,n=Object(i.useState)(null),s=Object(ea.a)(n,2),o=s[0],l=(s[1],Object(i.useState)(0)),c=Object(ea.a)(l,2),u=c[0],d=c[1],m=Object(i.useState)(""),p=Object(ea.a)(m,2),h=p[0],v=(p[1],t.toJS());return r.a.createElement("div",{className:"conversationBubbleForm Send"},r.a.createElement("div",{className:"containerForm"},r.a.createElement("form",{autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),null===o||0===u||""===h)return!1;var t=null;t="si"===o?1:0;var n={input:"in",output:"out",cid:v.cid,id_data_canal:123,id_canal:1,resolvio:t,valoracion:u,comentario:h};a(n,v)}},r.a.createElement("div",{className:"headerForm"},r.a.createElement("i",{class:"fas fa-check fa-3x check"}),r.a.createElement("h4",null,"Eval\xfaame y comenta por qu\xe9, me ayudar\xe1s a seguir mejorando")),r.a.createElement("fieldset",{className:"radios"}),r.a.createElement("fieldset",null,r.a.createElement("div",{className:"star-rating"},r.a.createElement("i",{className:"em em-angry emoticons","aria-role":"presentation",onClick:function(e){return d({starsSelected:1})}}),r.a.createElement("i",{className:"em em-confused emoticons","aria-role":"presentation",onClick:function(e){return d({starsSelected:2})}}),r.a.createElement("i",{className:"em em-neutral_face emoticons","aria-role":"presentation",onClick:function(e){return d({starsSelected:3})}}),r.a.createElement("i",{className:"em em-slightly_smiling_face emoticons","aria-role":"presentation",onClick:function(e){return d({starsSelected:4})}}),r.a.createElement("i",{className:"em em-smiley emoticons","aria-role":"presentation",onClick:function(e){return d({starsSelected:5})}}))),r.a.createElement("fieldset",null,r.a.createElement("button",{type:"submit"},"Valorar")),r.a.createElement("fieldset",{className:"".concat(1==(void 0).state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"NOS PUEDES CONTAR POR QUE"),r.a.createElement("div",null,1===(void 0).state.starsSelected,r.a.createElement("p",null," No entiende "),r.a.createElement("p",null," Sin respuesta "),r.a.createElement("p",null," No resuelve las consultas "),r.a.createElement("p",null," Surgio error"),r.a.createElement("p",null," Otro "))),r.a.createElement("fieldset",{className:"".concat(2==(void 0).state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"NOS PUEDES CONTAR POR QUE"),2===(void 0).state.starsSelected,r.a.createElement("div",null,r.a.createElement("p",null,"Respuestas m\xe1s claras "),r.a.createElement("p",null," Falta informaci\xf3n "),r.a.createElement("p",null," No resuelve las consultas "),r.a.createElement("p",null," No es personalizado "),r.a.createElement("p",null," Otro "))),r.a.createElement("fieldset",{className:"".concat(3==(void 0).state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"\xbfNOS PUEDES CONTAR POR QUE?"),3===(void 0).state.starsSelected,r.a.createElement("div",null,r.a.createElement("p",null,"Respuestas m\xe1s claras ")," ",r.a.createElement("p",null," Soluciones m\xe1s r\xe1pidas "),r.a.createElement("p",null," Respuestas m\xe1s completas "),r.a.createElement("p",null," Cumple, pero podr\xedas mejorar")," ",r.a.createElement("p",null," Otro "))),r.a.createElement("fieldset",{className:"".concat(4==(void 0).state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"NOS PUEDES CONTAR POR QUE"),4===(void 0).state.starsSelected,r.a.createElement("div",null,r.a.createElement("p",null,"Respuesta \xfatil")," ",r.a.createElement("p",null," pero podr\xedas mejorar "),r.a.createElement("p",null," Consulta resuelta ")," ",r.a.createElement("p",null," Qued\xe9 conforme ")," ",r.a.createElement("p",null," Otro "))),r.a.createElement("fieldset",{className:"".concat(5==(void 0).state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"NOS PUEDES CONTAR POR QUE"),5===(void 0).state.starsSelected,r.a.createElement("div",null,r.a.createElement("p",null,"Respuesta \xfatil")," ",r.a.createElement("p",null," pero podr\xedas mejorar "),r.a.createElement("p",null," Respondi\xf3 lo que pregunte ")," ",r.a.createElement("p",null," Excelente "))))))}),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={active:!0},a.toggleButton=a.toggleButton.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"toggleButton",value:function(e){this.setState({active:!this.state.active});var t=e.target.dataset.msg;this.props.toggleSelectButton(t)}},{key:"render",value:function(){var e=this.props,t=e.button,a=e.mainCss,n=this.state.active?"":" "+a.Hover;return r.a.createElement("button",{className:a.Btn+" "+a.BtnBig+n,"data-msg":t.get("value"),onClick:this.toggleButton},t.get("title"))}}]),t}(i.Component)),aa=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={selectButtons:[]},a.sendButtonresponse=a.sendButtonresponse.bind(Object(N.a)(Object(N.a)(a))),a.toggleSelectButton=a.toggleSelectButton.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"sendButtonresponse",value:function(e){var t={general:this.props.generalStates.toJS(),msg:this.state.selectButtons,send:"to",enabled:!1};this.props.updateConversationButton(t)}},{key:"toggleSelectButton",value:function(e){var t=this.state.selectButtons.filter(function(t){return t===e}),a=this.state.selectButtons;0===t.length?(a.push(e),this.setState({selectButtons:a})):(a=this.state.selectButtons.filter(function(t){return t!==e}),this.setState({selectButtons:a}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.buttons,n=t.animation,s=t.send,i=t.mainCss,o=this.state.selectButtons.length>0?"":" "+i.Disabled,l=a.map(function(t,a){return r.a.createElement(ta,{key:a,button:t,toggleSelectButton:e.toggleSelectButton,mainCss:i})});return r.a.createElement("div",{className:i.ConversationBubble+" "+i.AlignCenter+" "+i.Buttons+" "+n+s},l,r.a.createElement("div",{className:i.MultiButtons},r.a.createElement("button",{className:i.Btn+" "+i.BtnBig+" "+o,onClick:this.sendButtonresponse},"Enviar",r.a.createElement("i",{className:"fas fa-paper-plane"}))))}}]),t}(i.Component),na=a(20),sa=(a(41),a(42),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={startDate:$e()(a.props.date,"DD/MM/YYYY")},a.date=r.a.createRef(),a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"handleChange",value:function(e,t){var a=this;this.setState({startDate:e}),setTimeout(function(){0===a.date.current.input.value.length?a.props.toggleButton({name:"initial",validate:!1}):a.props.toggleButton({name:"initial",validate:!0})},31)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.last,n=e.mainCss;return r.a.createElement(na.a,{dateFormat:"DD/MM/YYYY",selected:this.state.startDate,onChange:this.handleChange.bind(this),className:n.DatepickerCognitive,name:t,disabled:!a,ref:this.date})}}]),t}(i.Component)),ia=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={startDate:$e()(a.props.date,"DD/MM/YYYY")},a.date=r.a.createRef(),a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"handleChange",value:function(e,t){var a=this;this.setState({startDate:e}),setTimeout(function(){0===a.date.current.input.value.length?a.props.toggleButton({name:"end",validate:!1}):a.props.toggleButton({name:"end",validate:!0})},31)}},{key:"render",value:function(){var e=this.props,t=e.last,a=e.name,n=e.mainCss;return r.a.createElement(na.a,{dateFormat:"DD/MM/YYYY",selected:this.state.startDate,onChange:this.handleChange.bind(this),className:n.DatepickerCognitive,name:a,ref:this.date,disabled:!t,popperPlacement:"top-start",popperModifiers:{flip:{enabled:!1},preventOverflow:{enabled:!0,escapeWithReference:!1}}})}}]),t}(i.Component),ra=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={enabledButton:!0,initialValidate:!0,endValidate:!0},a.sendButtonresponse=a.sendButtonresponse.bind(Object(N.a)(Object(N.a)(a))),a.divInputs=r.a.createRef(),a.toggleButton=a.toggleButton.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"toggleButton",value:function(e){"initial"===e.name?e.validate&&this.state.endValidate?this.setState({enabledButton:!0,initialValidate:e.validate}):this.setState({enabledButton:!1,initialValidate:e.validate}):e.validate&&this.state.initialValidate?this.setState({enabledButton:!0,endValidate:e.validate}):this.setState({enabledButton:!1,endValidate:e.validate})}},{key:"sendButtonresponse",value:function(e){var t=this.divInputs.current.getElementsByTagName("input"),a=[],n={name:t[0].name,value:t[0].value};a.push(n),t.length>1&&a.push({name:t[1].name,value:t[1].value});var s={general:this.props.generalStates.toJS(),msg:a,send:"to",enabled:!1},i={datepicker:a};this.props.updateConversationCalendar(i),this.props.updateConversation(s)}},{key:"render",value:function(){var e=this.props,t=e.animation,a=e.send,n=e.last,s=e.datepicker,i=e.mainCss,o=this.state.enabledButton?"":" "+i.Disabled,l=s.get(0),c=s.get(1),u=void 0!==c?" "+i.DoubleDate:" "+i.SingleDate,d=[];return n?(d.push(r.a.createElement("div",{className:u,key:2},r.a.createElement("label",null," Fecha inicial: "),r.a.createElement(sa,{last:n,name:l.get("name"),date:l.get("value"),toggleButton:this.toggleButton,mainCss:i}))),void 0!==c&&d.push(r.a.createElement("div",{className:u,key:3},r.a.createElement("label",null," Fecha final: "),r.a.createElement(ia,{last:n,name:c.get("name"),date:c.get("value"),mainCss:i,toggleButton:this.toggleButton})))):(d.push(r.a.createElement("div",{className:u,key:0},r.a.createElement(na.a,{dateFormat:"DD/MM/YYYY",selected:$e()(l.get("value"),"DD/MM/YYYY"),className:i.DatepickerCognitive,name:l.get("name"),disabled:!0}))),void 0!==c&&d.push(r.a.createElement("div",{className:u,key:1},r.a.createElement(na.a,{dateFormat:"DD/MM/YYYY",selected:$e()(c.get("value"),"DD/MM/YYYY"),className:i.DatepickerCognitive,name:c.get("name"),disabled:!0})))),d.push(r.a.createElement("div",{className:i.MultiButtons,key:"multi-buttons"},r.a.createElement("button",{className:i.Btn+" "+i.BtnBig+" "+o,onClick:this.sendButtonresponse},"Enviar",r.a.createElement("i",{className:"fas fa-paper-plane"})))),r.a.createElement("div",{ref:this.divInputs,className:i.ConversationBubble+" "+i.Datepickers+" "+t+a},d)}}]),t}(i.Component),oa=function(e){function t(){return Object(C.a)(this,t),Object(_.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"content",value:function(e){var t=this.props.mainCss;return e.map(function(e,a){var n=e.substring(e.length-4,e.length);return".jpg"===n||".gif"===n||"jpeg"===n?r.a.createElement("div",{className:t.BubbleFile+" "+t.Img,key:a},r.a.createElement("a",{href:e,target:"_blank",rel:"noreferrer noopener"},r.a.createElement("img",{src:e,alt:"Respuesta"}))):r.a.createElement("div",{className:t.BubbleFile,key:a},r.a.createElement("a",{href:e,target:"_blank",rel:"noreferrer noopener"},e),r.a.createElement("i",{className:"fas fa-paperclip"}))})}},{key:"render",value:function(){var e=this.props,t=e.files,a=e.animation,n=e.send,s=e.mainCss,i="bloqued "===a?"":a;return r.a.createElement("div",{className:s.ConversationBubble+" "+i+n},this.content(t))}}]),t}(i.Component),la=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).attach=r.a.createRef(),a.attachFile=a.attachFile.bind(Object(N.a)(Object(N.a)(a))),a.attachIconClick=a.attachIconClick.bind(Object(N.a)(Object(N.a)(a))),a.state={error:null},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"attachIconClick",value:function(){this.attach.current.click()}},{key:"attachFile",value:function(){var e=this.attach.current.files[0].size,t=this.props,a=t.attachFile,n=t.generalStates,s=t.attach;if(e>0&&e<=s.get("maxSize")){var i=this.attach.current.files[0],r=i.type,o=s.get("types"),l=!1;if(o.forEach(function(e){e===r&&(l=!0)}),l){var c={};c.file=i,c.general=n.toJS(),a(c),this.setState({error:null})}else this.setState({error:"No hay mano"})}else this.setState({error:"Excede el m\xe1ximo permitido"})}},{key:"fillError",value:function(){var e=this.props.mainCss;if(null!==this.state.error)return r.a.createElement("p",{className:e.Error},this.state.error)}},{key:"render",value:function(){var e=this.props,t=e.animation,a=e.send,n=e.mainCss;return r.a.createElement("div",{className:n.ConversationBubble+" "+n.Attach+" "+t+a},r.a.createElement("button",{className:n.Btn+" "+n.BtnAttach,type:"button",onClick:this.attachIconClick},"Adjuntar",r.a.createElement("i",{className:"fas fa-paperclip"}),r.a.createElement("input",{type:"file",ref:this.attach,className:n.Hide,onChange:this.attachFile})),this.fillError())}}]),t}(i.Component),ca=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).sendLikeHandled=a.sendLikeHandled.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"sendLikeHandled",value:function(e){var t=this.props,a=t.sendLike,n=t.generalStates,s=t.conversationsStates,i=e.currentTarget.dataset.like,r=n.toJS(),o=s.get("conversations"),l=s.get("conversations").size,c=o.get(l-2).get("msg").get(0),u=o.get(l-2).get("msg").get(0);a({origen:r.origen,cid:r.cid,nodo_id:r.nodo_id,input:c,output:u,like:i,valoracion:0,comentario:"",pudo_resolver:""},r)}},{key:"render",value:function(){var e=this.props.mainCss;return r.a.createElement("div",{className:e.LikeDiv},r.a.createElement("button",{className:e.Btn,onClick:this.sendLikeHandled,"data-like":0},r.a.createElement("i",{class:"fas fa-star fa-1x"})),r.a.createElement("button",{className:e.Btn,onClick:this.sendLikeHandled,"data-like":0},r.a.createElement("i",{className:"fas fa-thumbs-down "})),r.a.createElement("button",{className:e.Btn,onClick:this.sendLikeHandled,"data-like":1},r.a.createElement("i",{className:"fas fa-thumbs-up"})))}}]),t}(i.Component),ua=a(29),da=a.n(ua),ma=a(67),pa=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(_.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(s)))).state={respuesta:null,starsSelected:0,mensajeAdicional:"",otro:0,color:0},a.enviarValoracion=function(){var e=Object(ma.a)(da.a.mark(function e(t){var n,s,i,r,o,l;return da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a.state.mensajeAdicional){e.next=3;break}return e.abrupt("return",!1);case 3:return n=a.props,s=n.generalStates,i=n.sendValoracion,r=s.toJS(),o=null,o=1==a.state.starsSelected||2==a.state.starsSelected||3==a.state.starsSelected?"si":"no",l={input:"in",origen:"Sitio P\xfablico",output:"out",cid:r.cid,intent:"atenci\xf3n general",id_nodo:"",id_data_canal:123,id_canal:1,pudo_resolver:o,valor:a.state.starsSelected,comentario:a.state.mensajeAdicional,auth:""},e.next=10,i(l,r);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"conversationBubbleForm Send"},r.a.createElement("div",{className:"containerForm  modal"},r.a.createElement("form",{autoComplete:"off",onSubmit:this.enviarValoracion},r.a.createElement("div",{className:"headerForm"},r.a.createElement("i",{class:"fas fa-check fa-3x check"}),r.a.createElement("h4",null,"Eval\xfaame y comenta por qu\xe9, me ayudar\xe1s a seguir mejorando")),r.a.createElement("fieldset",null,r.a.createElement("div",{className:"star-rating"},r.a.createElement("i",{className:"".concat(0==this.state.starsSelected||2==this.state.starsSelected||3==this.state.starsSelected||4==this.state.starsSelected||5==this.state.starsSelected?"em em-angry emoticons":"em em-angry expand-emoji"),"aria-role":"presentation",onClick:function(t){return e.setState({starsSelected:1,otro:0})}}),r.a.createElement("i",{className:"".concat(0==this.state.starsSelected||1==this.state.starsSelected||3==this.state.starsSelected||4==this.state.starsSelected||5==this.state.starsSelected?"em em-confused emoticons":"em em-confused expand-emoji"),"aria-role":"presentation",onClick:function(t){return e.setState({starsSelected:2,otro:0})}}),r.a.createElement("i",{className:"".concat(0==this.state.starsSelected||1==this.state.starsSelected||2==this.state.starsSelected||4==this.state.starsSelected||5==this.state.starsSelected?"em em-neutral_face emoticons":"em em-neutral_face expand-emoji"),"aria-role":"presentation",onClick:function(t){return e.setState({starsSelected:3,otro:0})}}),r.a.createElement("i",{className:"".concat(0==this.state.starsSelected||1==this.state.starsSelected||2==this.state.starsSelected||3==this.state.starsSelected||5==this.state.starsSelected?"em em-slightly_smiling_face  emoticons":"em em-slightly_smiling_face  expand-emoji"),"aria-role":"presentation",onClick:function(t){return e.setState({starsSelected:4,otro:0})}}),r.a.createElement("i",{className:"".concat(0==this.state.starsSelected||1==this.state.starsSelected||2==this.state.starsSelected||3==this.state.starsSelected||4==this.state.starsSelected?"em em-smiley  emoticons":"em em-smiley  expand-emoji"),"aria-role":"presentation",onClick:function(t){return e.setState({starsSelected:5,otro:0})}}))),r.a.createElement("fieldset",null,r.a.createElement("button",{type:"submit"},"Evaluar")),r.a.createElement("fieldset",{className:"".concat(1==this.state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"\xbfNOS PUEDES CONTAR POR QUE?"),r.a.createElement("div",null,1===this.state.starsSelected,r.a.createElement("p",{className:"".concat(1==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"No entiende ",color:1})}}," No entiende "),r.a.createElement("p",{className:"".concat(2==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Sin respuesta",color:2})}}," Sin respuesta"),r.a.createElement("p",{className:"".concat(3==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"No resuelve las consultas",color:3})}}," No resuelve las consultas"),r.a.createElement("p",{className:"".concat(4==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Surgio error",color:4})}}," Surgio error"),r.a.createElement("p",{className:"".concat(5==this.state.color?"active":""),onClick:function(t){return e.setState({otro:6,starsSelected:0,color:5})}}," Otro "))),r.a.createElement("fieldset",{className:"".concat(2==this.state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"\xbfNOS PUEDES CONTAR POR QUE?"),2===this.state.starsSelected,r.a.createElement("div",null,r.a.createElement("p",{className:"".concat(6==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Respuestas m\xe1s claras",color:6})}}," Respuestas m\xe1s claras"),r.a.createElement("p",{className:"".concat(7==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Falta informaci\xf3",color:7})}}," Falta informaci\xf3"),r.a.createElement("p",{className:"".concat(8==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"No resuelve las consultas",color:8})}}," No resuelve las consultas"),r.a.createElement("p",{className:"".concat(9==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"No es personalizado",color:9})}}," No es personalizado"),r.a.createElement("p",{className:"".concat(10==this.state.color?"active":""),onClick:function(t){return e.setState({otro:6,starsSelected:0,color:10})}}," Otro "))),r.a.createElement("fieldset",{className:"".concat(3==this.state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"\xbfNOS PUEDES CONTAR POR QUE?"),3===this.state.starsSelected,r.a.createElement("div",null,r.a.createElement("p",{className:"".concat(11==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Respuestas m\xe1s claras",color:11})}}," Respuestas m\xe1s claras"),r.a.createElement("p",{className:"".concat(12==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Soluciones m\xe1s r\xe1pidas",color:12})}}," Soluciones m\xe1s r\xe1pidas"),r.a.createElement("p",{className:"".concat(13==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Respuestas m\xe1s completas",color:13})}}," Respuestas m\xe1s completas"),r.a.createElement("p",{className:"".concat(14==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Cumple, pero podr\xedas mejora",color:14})}}," Cumple, pero podr\xedas mejora"),r.a.createElement("p",{className:"".concat(15==this.state.color?"active":""),onClick:function(t){return e.setState({otro:6,starsSelected:0,color:15})}}," Otro "))),r.a.createElement("fieldset",{className:"".concat(4==this.state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"\xbfNOS PUEDES CONTAR POR QUE?"),r.a.createElement("div",null,r.a.createElement("p",{className:"".concat(16==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Respuesta \xfatil",color:16})}}," Respuesta \xfatil"),r.a.createElement("p",{className:"".concat(17==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"pero podr\xedas mejorar",color:17})}}," pero podr\xedas mejorar"),r.a.createElement("p",{className:"".concat(18==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Consulta resuelta",color:22})}}," Consulta resuelta"),r.a.createElement("p",{className:"".concat(19==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Qued\xe9 conforme",color:18})}}," Qued\xe9 conforme"),r.a.createElement("p",{className:"".concat(20==this.state.color?"active":""),onClick:function(t){return e.setState({otro:6,starsSelected:0,color:20})}}," Otro "))),r.a.createElement("fieldset",{className:"".concat(5==this.state.starsSelected?"expand":"none")},r.a.createElement("h3",null,"\xbfNOS PUEDES CONTAR POR QUE?"),5===this.state.starsSelected,r.a.createElement("div",null,r.a.createElement("p",{className:"".concat(21==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Respuesta \xfatil",color:21})}}," Respuesta \xfatil"),r.a.createElement("p",{className:"".concat(22==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"pero podr\xedas mejorar",color:22})}}," pero podr\xedas mejorar"),r.a.createElement("p",{className:"".concat(23==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Respondi\xf3 lo que pregunte",color:23})}}," Respondi\xf3 lo que pregunte "),r.a.createElement("p",{className:"".concat(24==this.state.color?"active":""),onClick:function(t){return e.setState({mensajeAdicional:"Excelente",color:24})}}," Excelente "),r.a.createElement("p",{className:"".concat(25==this.state.color?"active":""),onClick:function(t){return e.setState({otro:6,starsSelected:0,color:25})}}," Otro "))),r.a.createElement("fieldset",{className:"".concat(6==this.state.otro?"expand":"none")},r.a.createElement("legend",{style:{fontWeight:200,marginBottom:"0.8rem"}},"A\xdaN ESTOY EN PROCESO DE APRENDIZAJE. CU\xc9NTAME, \xbfQU\xc9 PUEDO MEJORAR?"),r.a.createElement("textarea",{name:"mensajeAdicional",rows:"2",onChange:function(t){return e.setState(Object(j.a)({},e.state,{mensajeAdicional:t.target.value}))}})))))}}]),t}(i.Component),ha=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).test=r.a.createRef(),a.handleScroll=a.handleScroll.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidUpdate",value:function(e){p.c(e.conversationsStates,this.props.conversationsStates)||(this.scrollToBottom(),this.setHistory(),this.toggleEnabled())}},{key:"componentWillReceiveProps",value:function(e){p.c(e.conversationsStates,this.props.conversationsStates)||this.handleScroll()}},{key:"componentDidMount",value:function(){this.handleScroll(),this.scrollToBottom()}},{key:"componentWillMount",value:function(){var e=this.props,t=e.conversationsStates,a=e.disabledInput,n=t.get("conversations").get(-1),s=n.get("buttons"),i=n.get("selects"),r=n.get("multibuttons"),o=n.get("datepicker"),l=n.get("files"),c=n.get("attach"),u=n.get("like"),d=n.get("withStars");(s||i||r||o||l||c||u||d)&&a()}},{key:"handleScroll",value:function(e){var t=this.props,a=t.conversationsStates,n=t.toggleHeaderMore,s=t.moreHeader,i=a.get("conversations").size;i>1?n(!1):1===i?n(!0):s&&n(!0)}},{key:"toggleEnabled",value:function(){var e=this.props,t=e.ayudaStates,a=e.inputStates,n=e.customParamsStates,s=e.conversationsStates;if(s.get("conversations").size>1){var i=s.get("conversations").get(-1),r=i.get("buttons"),o=i.get("selects"),l=i.get("multibuttons"),c=n.getIn(["customParams","settings","help"]),u=i.get("datepicker"),d=i.get("attach"),m=i.get("liftUp"),p=i.get("like");void 0!==r||void 0!==o||void 0!==m||void 0!==l||void 0!==u||void 0!==d||void 0!==p&&p?(c&&t.get("open")&&this.props.closeHelp(),c&&t.get("enabled")&&this.props.disabledHelp(),a.get("enabled")&&this.props.disabledInput()):(c&&!t.get("enabled")&&this.props.enabledHelp(),a.get("enabled")||this.props.enabledInput())}}},{key:"setHistory",value:function(){var e=this.props,t=e.conversationsStates,a=e.customParamsStates,n=t.get("conversations");if(a.getIn(["customParams","settings","keep_conversation"])&&n.size>1){var s=[],i=n.size-1;n.forEach(function(e,t){var a=e.get("buttons"),n=e.get("multibuttons"),r=e.get("selects"),o=e.get("msg"),l=e.get("send"),c=e.get("liftUp"),u=e.get("enabled"),d=e.get("form"),m=e.get("datepicker"),p=e.get("files"),h=e.get("attach"),v=e.get("like"),g=e.get("withStars"),f={buttons:void 0!==a?a.toJS():a,selects:void 0!==r?r.toJS():r,multibuttons:void 0!==n?n.toJS():n,msg:void 0!==o?o.toJS():o,send:l,liftUp:c,enabled:u,form:d,datepicker:m,files:p,attach:void 0!==h?h.toJS():h,like:v,withStars:g};i===t&&(f.general=e.get("general").toJS()),s.push(f)});var r=w.a.encrypt(JSON.stringify(s),B).toString();localStorage.setItem("hc",r)}}},{key:"scrollToBottom",value:function(){this.props.ayudaStates.get("open")||this.scrollTo(this.test.current,this.test.current.scrollHeight,600)}},{key:"scrollTo",value:function(e,t,a){var n=e.scrollTop,s=t-n,i=0,r=this;!function t(){i+=20;var o=r.easeInOutQuad(i,n,s,a);e.scrollTop=o,i<a&&setTimeout(t,20)}()}},{key:"easeInOutQuad",value:function(e,t,a,n){return(e/=n/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t}},{key:"fillConversation",value:function(){var e=this,t=this.props,a=t.updateConversation,n=t.updateConversationButton,s=t.conversationsStates,i=t.customParamsStates,o=t.generalStates,l=t.mainCss,c=s.get("conversations").size,u=i.getIn(["customParams","avatar"]),d=i.getIn(["customParams","colorHeader"]),m=i.getIn(["customParams","userImg"]);return s.get("conversations").map(function(t,s){var i=t,p=i.get("enabled"),h=[];if(console.log("fill",t),void 0!==p&&p){var v=i.get("buttons"),g=i.get("selects"),f=i.get("msg"),E=i.get("send"),b=i.get("multibuttons"),S=i.get("datepicker"),C=i.get("liftUp"),O=i.get("files"),_=i.get("attach"),y=i.get("like"),k=i.get("rating"),N=s+1===c,j=(i.get("withStars"),N?"animated-av fadeInUp-av ":l.Bloqued+" ");if(void 0!==f){var A=e.props.sendLike;h.push(r.a.createElement(yt,{key:s,avatar:u,msgs:f,animation:j,send:E,userImg:m,like:y,last:N,sendLike:A,mainCss:l}))}if(void 0!==v&&h.push(r.a.createElement(kt,{key:10*s,buttons:v,animation:j,send:E,updateConversationButton:n,generalStates:o,mainCss:l})),void 0!==g&&h.push(r.a.createElement(At,{key:20*s,options:g,animation:j,send:E,generalStates:o,updateConversation:a,mainCss:l})),void 0!==b&&h.push(r.a.createElement(aa,{key:30*s,buttons:b,animation:j,send:E,updateConversationButton:n,generalStates:o,mainCss:l})),void 0!==S){var T=e.props.updateConversationCalendar;h.push(r.a.createElement(ra,{key:40*s,animation:j,send:E,colorHeader:d,updateConversation:a,updateConversationCalendar:T,datepicker:S,generalStates:o,last:N,mainCss:l}))}if(void 0!==_){var I=e.props.attachFile;h.push(r.a.createElement(la,{attach:_,attachFile:I,key:40*s,animation:j,send:E,colorHeader:d,generalStates:o,mainCss:l}))}if(void 0!==O&&h.push(r.a.createElement(oa,{key:24*s,files:O,animation:j,send:E,generalStates:o,mainCss:l})),N){if(void 0!==C)switch(C){case"valoracion":if(e.props.valoracionStates.get("enabled")){var R=e.props;R.setStar,R.setOverStar,R.setPudoResolverValoracion,R.sendValoracion,R.setCommentValoracion,R.setErrorValoracion,R.setServicioValoracion,R.updateConversationButton,R.generalStates,R.disabledHelp,R.disabledInput}break;case"form":var L=e.props,H=L.formularioStates,w=L.closeForm,B=L.generalStates,M=L.attachFileForm,F=L.sendForm,P=L.deleteFileForm,D=L.customParamsStates,U=H.get("enabled"),x=i.get("form");U&&h.push(r.a.createElement($t,{key:s,formularioStates:H,form:x,generalStates:B,closeForm:w,colorHeader:d,sendForm:F,attachFileForm:M,deleteFileForm:P,customParamsStates:D,mainCss:l,animation:j}))}if(void 0!==y&&y){var V=e.props,G=V.sendLike,J=V.conversationsStates,W=V.generalStates;h.push(r.a.createElement(ca,{key:33*s,conversationsStates:J,sendLike:G,colorHeader:d,generalStates:W,mainCss:l}))}else if(k){var z=e.props,Z=z.sendValoracion,Y=z.generalStates;h.push(r.a.createElement(pa,{key:"".concat(s," * 55"),generalStates:Y,sendValoracion:Z}))}}}return h})}},{key:"render",value:function(){var e=this.props,t=e.ayudaStates,a=e.inputStates,n=e.conversationsStates,s=e.customParamsStates,i=e.mainCss,o=s.getIn(["customParams","colorHeader"]),l=t.get("open")?" active":"",c=a.get("enabled")?"":" holder",u="";return n.get("conversations").map(function(e,t){var a=e,n=(a.get("form"),a.get("liftUp"));if("form"!==n&&"valoracion"!==n)return u="";u=i.Show}),r.a.createElement(et,{isFetching:n.get("isFetching"),showChildren:!0,colorHeader:o,mainCss:i},r.a.createElement("section",{className:i.ConversationHolder+" "+l+c+" "+u,"data-conversation":"",ref:this.test},this.fillConversation()))}}]),t}(i.Component),va=a(45),ga=a.n(va),fa=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).state={moreHeader:!0},a.divAssistant=r.a.createRef(),a.closeAssistant=a.closeAssistant.bind(Object(N.a)(Object(N.a)(a))),a.closeEscape=a.closeEscape.bind(Object(N.a)(Object(N.a)(a))),a.minimizedAssistant=a.minimizedAssistant.bind(Object(N.a)(Object(N.a)(a))),a.toggleHeaderMore=a.toggleHeaderMore.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.setGeneralStates(),this.getBehaviors()}},{key:"toggleHeaderMore",value:function(e){this.setState({moreHeader:e})}},{key:"setGeneralStates",value:function(){var e=this.props.customParamsStates.getIn(["customParams","settings","geolocalization"]);this.getOrigen(),e&&this.getLocation()}},{key:"getBehaviors",value:function(){var e=this.props,t=e.customParamsStates,a=e.toggleMinimizedAssistant,n=e.openAssistant,s=e.setHistory,i=e.closeLauncher,r=e.getSaludoEnd,o=t.getIn(["customParams","settings","keep_conversation"]),l=localStorage.getItem("hc");if(o&&l){var c=w.a.decrypt(l,B),u=localStorage.getItem("gr"),d=w.a.decrypt(u,B).toString(ga.a.enc.Utf8),m=c.toString(ga.a.enc.Utf8),p=JSON.parse(m),h=JSON.parse(localStorage.getItem("hcm"));r(JSON.parse(d)),s(p),n(),this.openAssitantCDN(),i(),h&&(a(h),this.minimizedCDN())}else localStorage.removeItem("hcm"),localStorage.removeItem("hc")}},{key:"getOrigen",value:function(){M.isMobile?this.props.setOrigen("mobile"):this.props.setOrigen(1)}},{key:"getLocation",value:function(){this.props.getLocation()}},{key:"isMobileDevice",value:function(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},{key:"focus",value:function(){setTimeout(function(){if("http://localhost:3000"!==window.location.origin){var e=window.top.location.href,t=e.substring(e.length-13,e.length),a=document.documentElement.getElementsByClassName("input-user")[0];"personalizar/"!==t&&"/personalizar"!==t&&null!==a&&a.focus()}else null!==document.documentElement.getElementsByClassName("input-user")[0]&&document.documentElement.getElementsByClassName("input-user")[0].focus()},300)}},{key:"closeAssistant",value:function(){this.notificationCDN();var e=this.props.closeAssistant;localStorage.removeItem("hcm"),localStorage.removeItem("hc"),e()}},{key:"minimizedCDN",value:function(){window.top.postMessage({test:[{msg:"minimized"}]},"*")}},{key:"openAssitantCDN",value:function(){window.top.postMessage({test:[{msg:"assistant"}]},"*")}},{key:"notificationCDN",value:function(){window.top.postMessage({test:[{msg:"notification"}]},"*")}},{key:"minimizedAssistant",value:function(){var e=this.props,t=e.assistantStates,a=e.toggleMinimizedAssistant,n=e.customParamsStates,s=t.get("minimized"),i=n.getIn(["customParams","settings","keep_conversation"]),r=localStorage.getItem("hc");i&&r&&localStorage.setItem("hcm",!s),s?this.openAssitantCDN():this.notificationCDN(),a(!s)}},{key:"closeEscape",value:function(e){27===e.keyCode&&this.closeAssistant()}},{key:"fillHelp",value:function(e){if(e)return r.a.createElement(Ot,this.props)}},{key:"content",value:function(e,t,a){if(e.get("active")&&t.get("conversations").size>0){var n=this.props,s=n.customParamsStates,i=n.mainCss,o=n.saludoStates,l=s.get("customParams").get("settings").get("help"),c=e.get("minimized"),u="mobile"===a.get("responsive")?i.Mobile:"",d=this.state.moreHeader?i.HeaderMore:"",m=s.getIn(["customParams","settings","position_help"]);return c?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:i.MainAssistant+" "+u+" "+d+" "+i.Show,onKeyUp:this.closeEscape,ref:this.divAssistant},r.a.createElement(it,{logo:s.get("customParams").get("logo"),titulo:s.get("customParams").get("titulo"),subtitulo:s.get("customParams").get("subtitulo"),closeAssistant:this.closeAssistant,ayuda:l,colorHeader:s.get("customParams").get("color_header"),ayudaStates:this.props.ayudaStates,openHelp:this.props.openHelp,closeHelp:this.props.closeHelp,showWarningHelp:this.props.showWarningHelp,hideWarningHelp:this.props.hideWarningHelp,minimizedAssistant:this.minimizedAssistant,minimized:c,mainCss:i,responsive:a.get("responsive"),positionHelp:m,toggleHeaderMore:this.toggleHeaderMore,moreHeader:this.state.moreHeader,saludo:o.getIn(["saludo","msg"])}),this.fillHelp(l),r.a.createElement(ha,Object.assign({},this.props,{toggleHeaderMore:this.toggleHeaderMore,moreHeader:this.state.moreHeader})),r.a.createElement(ft,Object.assign({},this.props,{moreHeader:this.state.moreHeader,toggleHeaderMore:this.toggleHeaderMore})),r.a.createElement("a",{href:"https://www.cognitiva.la/",target:"_blank",rel:"noopener noreferrer",className:i.LogoCognitiva}))}return null}},{key:"render",value:function(){var e=this.props,t=e.assistantStates,a=e.conversationsStates,n=e.customParamsStates,s=e.responsiveStates,i=e.mainCss,o=n.getIn(["customParams","color_header"]);return r.a.createElement(et,{colorHeader:o,isFetching:t.get("isFetching"),showChildren:!0,mainCss:i},this.content(t,a,s))}}]),t}(i.Component),Ea=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(_.a)(this,Object(y.a)(t).call(this,e))).onMessageFunc=a.onMessageFunc.bind(Object(N.a)(Object(N.a)(a))),a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentWillMount",value:function(){this.onMessageFunc(),$e.a.updateLocale("en",{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekdays:["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"],weekdaysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],weekdaysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"]}),this.urlParams(),this.customParams()}},{key:"urlParams",value:function(){var e=window.location.search.replace("?","").split("&"),t={};e.forEach(function(e,a){if(""!==e){var n=e.split("=");t[n[0]]=n[1]}}),this.saveIntegracion(t),this.saveUrlParams(t)}},{key:"saveIntegracion",value:function(e){this.props.setIntegracion(e)}},{key:"saveUrlParams",value:function(e){this.props.setUrlParams(e)}},{key:"customParams",value:function(){this.props.getCustomParams()}},{key:"onMessageFunc",value:function(){var e=this;window.onmessage=function(t){void 0!==t.data.colorBtn?e.props.updateCustomColorBtn(t.data.color_btn):void 0!==t.data.title?e.props.updateCustomTitle(t.data.title):void 0!==t.data.subtitle?e.props.updateCustomSubtitle(t.data.subtitle):void 0!==t.data.colorHeader?e.props.updateCustomcolor_header(t.data.color_header):void 0!==t.data.avatar?e.props.updateCustomAvatar(t.data.avatar):void 0!==t.data.logo?e.props.updateCustomLogo(t.data.logo):void 0!==t.data.saludo?e.props.updateSaludo(t.data.saludo):void 0!==t.data.responsive&&e.props.responsive(t.data.responsive)}}},{key:"getContent",value:function(e){var t=e.getIn(["customParams","avatar"]),a=e.getIn(["customParams","estado"]);return t&&0!==a?(window.top.postMessage({responsiveFunc:!0},"*"),r.a.createElement("div",null,r.a.createElement(nt,this.props),r.a.createElement(fa,this.props))):null}},{key:"render",value:function(){var e=this.props.customParamsStates;return this.getContent(e)}}]),t}(i.Component);var ba=Object(c.b)(function(e){return e},function(e){return Object(m.b)(n,e)})(Ea);window.onbeforeunload=function(){Object(u.a)(document.getElementById("root"))},l.a.render(r.a.createElement(c.a,{store:g},r.a.createElement(ba,{mainCss:S.a})),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/asistente",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/asistente","/service-worker.js");f?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):E(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):E(e)})}}()},42:function(e,t,a){},56:function(e,t,a){},64:function(e,t,a){e.exports={Hide:"main_Hide__1aAa8",Disabled:"main_Disabled__26LRr",ButtonReset:"main_ButtonReset__1ZqkY",Btn:"main_Btn__zTuM9",BtnTransparent:"main_BtnTransparent__gZqRp",MainLauncher:"main_MainLauncher__2ks58","cognitive-assistant-fade-in-up":"main_cognitive-assistant-fade-in-up__IuaZH",LauncherButton:"main_LauncherButton__3TXSX",IconClose:"main_IconClose__3lXtR",Close:"main_Close__SgDkq",IconLauncher:"main_IconLauncher__2ahET",BubbleLauncher:"main_BubbleLauncher__1Pgki",pulso:"main_pulso__MkpNi",Notification:"main_Notification__37OuY",notification:"main_notification__Dx15G",Title:"main_Title__7ejs8",ButtonClose:"main_ButtonClose__3f1RL",MainAssistant:"main_MainAssistant__cpC0G",inAssistant:"main_inAssistant__1cjHE",HeaderMore:"main_HeaderMore__TkEWG",Header:"main_Header__2Zhim",HeaderHelpDown:"main_HeaderHelpDown__L-HZ4",Large:"main_Large__17ny_",HeaderImage:"main_HeaderImage__22fdF",HeaderText:"main_HeaderText__3qxIM",IconMinimized:"main_IconMinimized__2H6lx",CloseButton:"main_CloseButton__43XMm",ButtonHelp:"main_ButtonHelp__1acAi",Active:"main_Active__1jVhM",HeaderHelpUp:"main_HeaderHelpUp__34j30",AssistantHelper:"main_AssistantHelper__1TKCm",inactive:"main_inactive__v-1OG",Bloqueo:"main_Bloqueo__3pVUH",HelpBloqued:"main_HelpBloqued__3IHrl",Subtittle:"main_Subtittle__QxSga",IconLi:"main_IconLi__26u5d",AssistantHelperChild:"main_AssistantHelperChild__3AjtH",AssistantTitle:"main_AssistantTitle__2PSXp",LiChild:"main_LiChild__oZuoP",NodoAbuelo:"main_NodoAbuelo__2krXn","fade-show":"main_fade-show__eTLk8",ConversationHolder:"main_ConversationHolder__2PMu4",holder:"main_holder__1tUxl",Show:"main_Show__IE_rl",Bubble:"main_Bubble__3ylsu",ConversationBubble:"main_ConversationBubble__1UGU-",ConversationBubbleForm:"main_ConversationBubbleForm__23MmO",To:"main_To__1JVQb",Buttons:"main_Buttons__37VA0",Datepickers:"main_Datepickers__1rkEK",Assessment:"main_Assessment__11tMi",BubbleFile:"main_BubbleFile__2_KnC",Img:"main_Img__3YRfI",Attach:"main_Attach__K9Iab",BtnAttach:"main_BtnAttach__1eRs4",Error:"main_Error__2ZMcU",Select:"main_Select__FoxJr",Options:"main_Options__19ZqH",Hover:"main_Hover__2NSX5",MultiButtons:"main_MultiButtons__1VvIU","react-datepicker-popper":"main_react-datepicker-popper__3VNaW",SingleDate:"main_SingleDate__1bHWA",DoubleDate:"main_DoubleDate__1N2au",Day:"main_Day__Q3--G",Calendar:"main_Calendar__fqCAr","react-datepicker__day-name":"main_react-datepicker__day-name__hFQ4t","react-datepicker__day":"main_react-datepicker__day__2_aD_","react-datepicker__time-name":"main_react-datepicker__time-name__17KD9",DatepickerCognitive:"main_DatepickerCognitive__1eyWR",Likes:"main_Likes__2nYej",LikeDiv:"main_LikeDiv__qOgCQ",Bloqued:"main_Bloqued__2Ye3s",ContainerForm:"main_ContainerForm__2Ubbj",ContainerValoracion:"main_ContainerValoracion__2_BNs",HeaderForm:"main_HeaderForm__xjpGP",Red:"main_Red__2a-As",title:"main_title__2_Ud5",Icon:"main_Icon__1izQ3",CloseForm:"main_CloseForm__2xX_1","bkg-gray":"main_bkg-gray__gfLPX","por-que":"main_por-que__14B-x",link:"main_link__2IAcy",Switch:"main_Switch__3U4_3",Slider:"main_Slider__6op4A",Round:"main_Round__1Olgg",SelectSearch:"main_SelectSearch__3MRvo",CloseSelect:"main_CloseSelect__3uTKs",Radios:"main_Radios__3yJDG",RatingStars:"main_RatingStars__2DKny",ActiveStar:"main_ActiveStar__15O86",StarValue:"main_StarValue__3qMOn",Circle:"main_Circle__1dsmN",ButtonSend:"main_ButtonSend__cQuWi","spinner-holder":"main_spinner-holder__3jTl4",show:"main_show__2UGaQ",ErrorMsg:"main_ErrorMsg__389pL",InputUserHolder:"main_InputUserHolder__3Bwsk",Inactive:"main_Inactive__PTWcT",InputUser:"main_InputUser__39wlr",example:"main_example__1W_sS",active:"main_active__1XiBC",InputUserBtn:"main_InputUserBtn__LaJRt",Emoji:"main_Emoji__rIutV",IconVoice:"main_IconVoice__3_isd",IconPlane:"main_IconPlane__2uW3r",IconHelp:"main_IconHelp__3UV3D",IconStop:"main_IconStop__1iMh9",IconEmoji:"main_IconEmoji__3z6UJ",Transcript:"main_Transcript__1OG8T",Timer:"main_Timer__2iRL8",Loader:"main_Loader__1WoW8",Dot:"main_Dot__3Y7l_",in:"main_in__3KszG","iframe-cognitive-assistant-container-minimized":"main_iframe-cognitive-assistant-container-minimized__2G-ym",Mobile:"main_Mobile__1Y3MJ",LogoCognitiva:"main_LogoCognitiva__1hbei",SpinnerHolder:"main_SpinnerHolder__14LO7",Spinner:"main_Spinner__xAAx6",spinner:"main_spinner__19VqD",closeFormContainer:"main_closeFormContainer__1kjBj",closeFormButton:"main_closeFormButton__SMMbB"}},66:function(e,t){e.exports="data:image/png;base64,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"},69:function(e,t,a){e.exports=a(169)}},[[69,2,1]]]);
//# sourceMappingURL=main.11eaa654.chunk.js.map